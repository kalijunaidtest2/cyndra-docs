<!DOCTYPE html>

<html class="dark" lang="en"><head><meta charset="utf-8"/><meta content="width=device-width" name="viewport"/><link href="https://mintlify.s3-us-west-1.amazonaws.com/cyndra/_generated/favicon/apple-touch-icon.png?v=3" rel="apple-touch-icon" sizes="180x180" type="image/png"/><link href="https://docs.cyndra.dev/images/favicon.png" rel="icon" sizes="32x32" type="image/png"/><link href="https://docs.cyndra.dev/images/favicon.png" rel="icon" sizes="16x16" type="image/png"/><link href="https://docs.cyndra.dev/images/favicon.png" rel="shortcut icon" type="image/x-icon"/><meta content="https://mintlify.s3-us-west-1.amazonaws.com/cyndra/_generated/favicon/browserconfig.xml?v=3" name="msapplication-config"/><meta content="Cyndra Docs" name="apple-mobile-web-app-title"/><meta content="Cyndra Docs" name="application-name"/><meta content="#000" name="msapplication-TileColor"/><meta content="#ffffff" name="theme-color"/><meta content="Mintlify" name="generator"/><link href="../../sitemap.xml" rel="sitemap" type="application/xml"/><meta content="utf-8" name="charset"/><meta content="website" name="og:type"/><meta content="Cyndra Docs" name="og:site_name"/><meta content="summary_large_image" name="twitter:card"/><meta content="Chat app with React &amp; Rust - Cyndra Docs" name="og:title"/><meta content="Chat app with React &amp; Rust - Cyndra Docs" name="twitter:title"/><meta content="Learn how to write a Rust chat application with React on the frontend." name="og:description"/><meta content="Learn how to write a Rust chat application with React on the frontend." name="description"/><meta content="https://cyndra.mintlify.app/mintlify-assets/next/image?url=%2Fapi%2Fog%3Fdivision%3DDocumentation%26title%3DChat%2Bapp%2Bwith%2BReact%2B%2526%2BRust%26description%3DLearn%2Bhow%2Bto%2Bwrite%2Ba%2BRust%2Bchat%2Bapplication%2Bwith%2BReact%2Bon%2Bthe%2Bfrontend.%26logoLight%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fcyndra%252Fimages%252Flogo%252Flight.png%26logoDark%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fcyndra%252Fimages%252Flogo%252Fdark.png%26primaryColor%3D%2523000%26lightColor%3D%2523f91%26darkColor%3D%2523f91&amp;w=1200&amp;q=100" property="og:image"/><meta content="1200" property="og:image:width"/><meta content="630" property="og:image:height"/><meta content="https://cyndra.mintlify.app/mintlify-assets/next/image?url=%2Fapi%2Fog%3Fdivision%3DDocumentation%26title%3DChat%2Bapp%2Bwith%2BReact%2B%2526%2BRust%26description%3DLearn%2Bhow%2Bto%2Bwrite%2Ba%2BRust%2Bchat%2Bapplication%2Bwith%2BReact%2Bon%2Bthe%2Bfrontend.%26logoLight%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fcyndra%252Fimages%252Flogo%252Flight.png%26logoDark%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fcyndra%252Fimages%252Flogo%252Fdark.png%26primaryColor%3D%2523000%26lightColor%3D%2523f91%26darkColor%3D%2523f91&amp;w=1200&amp;q=100" property="twitter:image"/><meta content="1200" property="twitter:image:width"/><meta content="630" property="twitter:image:height"/><title>Chat app with React &amp; Rust - Cyndra Docs</title><meta content="/templates/tutorials/websocket-chat-app-js" name="og:url"/><link href="websocket-chat-app-js.html" rel="canonical"/><meta content="30" name="next-head-count"/><link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" rel="stylesheet"/><link as="font" crossorigin="anonymous" data-next-font="size-adjust" href="../../mintlify-assets/next/static/media/a34f9d1faa5f3315-s.p.woff2" rel="preload" type="font/woff2"/><link as="font" crossorigin="anonymous" data-next-font="size-adjust" href="../../mintlify-assets/next/static/media/bb3ef058b751a6ad-s.p.woff2" rel="preload" type="font/woff2"/><script data-nscript="beforeInteractive" id="mode-toggle">
      try {
        if (localStorage.isDarkMode === 'true') {
          document.documentElement.classList.add('dark');
        } else if (localStorage.isDarkMode === 'false') {
          document.documentElement.classList.remove('dark');
        } else if ((true && !('isDarkMode' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches) || false) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
      } catch (_) {}</script><link as="style" href="../../mintlify-assets/next/static/css/06489e8c7996266d.css" rel="preload"/><link data-n-g="" href="../../mintlify-assets/next/static/css/06489e8c7996266d.css" rel="stylesheet"/><link as="style" href="../../mintlify-assets/next/static/css/8c76fb7d3768dfe7.css" rel="preload"/><link data-n-p="" href="../../mintlify-assets/next/static/css/8c76fb7d3768dfe7.css" rel="stylesheet"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="../../mintlify-assets/next/static/chunks/polyfills-42372ed130431b0a.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/webpack-ccc766cf26487e8b.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/framework-822fcadcf2c4b2cf.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/main-62e52a310a4175a3.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/pages/app-5a1b457f74223380.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/2edb282b-a83f7ffd007bccf0.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/e893f787-f6a1094a35763a0d.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/086d643d-6f7196a364073d16.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/9498-8b55b599ac29f0b2.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/5094-367d16afbf96e822.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/9099-cceef1a2e4d5653f.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/474-eb4b5161dd99c868.js"></script><script defer="" src="../../mintlify-assets/next/static/chunks/pages/sites/[subdomain]/[[...slug]]-180209af373e276d.js"></script><script defer="" src="../../mintlify-assets/next/static/T_H5nbTtyqY6ZDQgEVxwA/_buildManifest.js"></script><script defer="" src="../../mintlify-assets/next/static/T_H5nbTtyqY6ZDQgEVxwA/_ssgManifest.js"></script><style id="__jsx-168234603">:root{--font-inter:'__Inter_a4e4e2', '__Inter_Fallback_a4e4e2';--font-jetbrains-mono:'__JetBrains_Mono_3bbdad', '__JetBrains_Mono_Fallback_3bbdad'}</style></head><div id="__next"><main class="jsx-168234603"><style>:root {
    --primary: 0 0 0;
    --primary-light: 255 153 17;
    --primary-dark: 255 153 17;
    --background-light: 252 240 208;
    --background-dark: 11 10 0;
    --gray-50: 242 242 242;
    --gray-100: 238 238 238;
    --gray-200: 222 222 222;
    --gray-300: 206 206 206;
    --gray-400: 158 158 158;
    --gray-500: 111 111 111;
    --gray-600: 79 79 79;
    --gray-700: 62 62 62;
    --gray-800: 37 37 37;
    --gray-900: 22 22 22;
    --gray-950: 10 10 10;
  }</style><span class="fixed inset-0 bg-background-light dark:bg-background-dark -z-10"></span><span class="block absolute dark:hidden inset-0 overflow-hidden h-[64rem]" style="background:radial-gradient(49.63% 57.02% at 58.99% -7.2%, rgba(0, 0, 0, 0.1) 39.4%, rgba(0, 0, 0, 0) 100%)"><svg class="absolute pl-48 -top-16 left-1/2 -translate-x-1/2" fill="none" height="640" viewbox="0 0 790 718" width="790" xmlns="http://www.w3.org/2000/svg"><mask height="861" id="mask-light" maskunits="userSpaceOnUse" style="mask-type:alpha" width="936" x="0" y="-143"><ellipse cx="468.373" cy="287.536" fill="url(#radial-light)" rx="467.627" ry="430.464"></ellipse></mask><g class="fill-primary dark:fill-primary-light" mask="url(#mask-light)"><path d="M506.419 281.855L446.417 297.931V359.885L506.419 343.71V281.855Z" fill-opacity="0.05"></path><path d="M384.768 188.752L324.766 204.828V266.781L384.768 250.606V188.752Z" fill-opacity="0.05"></path><path d="M263.625 347.002L203.623 363.078V425.031L263.625 408.856V347.002Z" fill-opacity="0.05"></path><path d="M385.089 440.096L325.087 456.172V518.125L385.089 501.95V440.096Z" fill-opacity="0.05"></path><path d="M627.756 123.527L567.754 139.603V201.557L627.756 185.382V123.527Z" fill-opacity="0.05"></path><path d="M445.32 46.918L385.318 62.994V124.947L445.32 108.772V46.918Z" fill-opacity="0.05"></path><path d="M749.192 279.59L689.19 295.666V357.619L749.192 341.444V279.59Z" fill-opacity="0.05"></path><path d="M627.905 437.912L567.903 453.988V515.941L627.905 499.766V437.912Z" fill-opacity="0.05"></path><path d="M202.491 175.656L142.489 191.732V253.685L202.491 237.511V175.656Z" fill-opacity="0.05"></path><path clip-rule="evenodd" d="M446.54 -79.1784L949.537 -213.956L949.278 -214.922L446.54 -80.2137V-87.9997H445.54V-79.9457L385.832 -63.947V-87.9997H384.832V-63.679L325.124 -47.6803V-87.9997H324.124V-47.4124L264.416 -31.4137V-87.9997H263.416V-31.1457L203.708 -15.147L203.708 -87.9997H202.708L202.708 -14.8791L143 1.11966L143 -87.9997H142L142 1.3876L-80.8521 61.1006L-80.5932 62.0666L142 2.42287V64.2363L-65.1402 119.739L-64.8814 120.705L142 65.2715L142 127.085L-49.4278 178.378L-49.1689 179.344L142 128.12V189.936L-33.7155 237.019L-33.4566 237.985L142 190.971V252.787L-18.0025 295.659L-17.7437 296.625L142 253.822V315.635L-2.29068 354.298L-2.03186 355.264L142 316.671V378.484L13.4218 412.937L13.6806 413.903L142 379.519V441.335L29.1341 471.577L29.3929 472.543L142 442.37V504.184L44.8466 530.216L45.1054 531.182L142 505.219V567.032L60.5591 588.855L60.8179 589.82L142 568.068V629.881L76.2715 647.493L76.5303 648.459L142 630.917V692.732L91.9838 706.134L92.2426 707.1L142 693.767V698.42H143V693.499L202.708 677.501V698.42H203.708V677.233L263.416 661.234V698.42H264.416V660.966L324.124 644.967V698.42H325.124V644.699L384.832 628.701V690.514L107.696 764.773L107.954 765.738L384.832 691.549V698.42H385.832V691.281L445.54 675.283V698.42H446.54V675.015L506.248 659.016V698.42H507.248V658.748L566.956 642.749V698.42H567.956V642.481L627.664 626.483V688.298L123.409 823.413L123.667 824.379L627.664 689.334V698.42H628.664V689.066L688.372 673.067V698.42H689.372V672.799L749.08 656.8V698.42H750.08V656.532L809.788 640.534V698.42H810.788V640.266L870.496 624.267V698.42H871.496V623.999L931.204 608V698.42H932.204V607.732L1153.8 548.357L1153.54 547.391L932.204 606.697V544.881L1138.08 489.716L1137.83 488.75L932.204 543.846V482.033L1122.37 431.077L1122.11 430.111L932.204 480.997V419.182L1106.66 372.437L1106.4 371.471L932.204 418.147V356.333L1090.95 313.798L1090.69 312.832L932.204 355.298V293.484L1075.24 255.159L1074.98 254.193L932.204 292.449V230.636L1059.52 196.521L1059.26 195.555L932.204 229.6V167.785L1043.81 137.88L1043.55 136.914L932.204 166.75V104.936L1028.1 79.2413L1027.84 78.2754L932.204 103.901V42.0874L1012.39 20.6027L1012.13 19.6367L932.204 41.0522V-20.7634L996.674 -38.0379L996.415 -39.0039L932.204 -21.7987L932.204 -83.6142L980.961 -96.6786L980.702 -97.6445L932.204 -84.6495V-87.9997H931.204V-84.3815L871.496 -68.3828V-87.9997H870.496V-68.1149L810.788 -52.1161V-87.9997H809.788V-51.8482L750.08 -35.8495V-87.9997H749.08V-35.5815L689.372 -19.5828L689.372 -81.3963L965.249 -155.317L964.99 -156.283L689.372 -82.4316V-87.9997H688.372V-82.1637L628.664 -66.1649V-87.9997H627.664V-65.897L567.956 -49.8983V-87.9997H566.956V-49.6303L507.248 -33.6316V-87.9997H506.248V-33.3637L446.54 -17.365L446.54 -79.1784ZM445.54 -78.9104L385.832 -62.9117L385.832 -1.09831L445.54 -17.097L445.54 -78.9104ZM384.832 -62.6438L325.124 -46.6451L325.124 15.1684L384.832 -0.830353L384.832 -62.6438ZM324.124 -46.3771L264.416 -30.3784L264.416 31.435L324.124 15.4363L324.124 -46.3771ZM263.416 -30.1104L203.708 -14.1117V47.7017L263.416 31.703L263.416 -30.1104ZM202.708 -13.8438L143 2.15492V63.9683L202.708 47.9696V-13.8438ZM628.664 -65.1297L688.372 -81.1284L688.372 -19.3149L628.664 -3.31616L628.664 -65.1297ZM567.956 -48.863L627.664 -64.8617L627.664 -3.04822L567.956 12.9505L567.956 -48.863ZM507.248 -32.5964L566.956 -48.5951L566.956 13.2184L507.248 29.2172L507.248 -32.5964ZM446.54 -16.3297L506.248 -32.3284L506.248 29.4851L446.54 45.4838V-16.3297ZM385.832 -0.0630493L445.54 -16.0618V45.7517L385.832 61.7505V-0.0630493ZM325.124 16.2036L384.832 0.20491V62.0184L325.124 78.0171V16.2036ZM264.416 32.4703L324.124 16.4716V78.2851L264.416 94.2838V32.4703ZM203.708 48.7369L263.416 32.7382V94.5517L203.708 110.55V48.7369ZM143 65.0036L202.708 49.0049V110.818L143 126.817L143 65.0036ZM931.204 -83.3463L871.496 -67.3475L871.496 -5.53207L931.204 -21.5308L931.204 -83.3463ZM870.496 -67.0796L810.788 -51.0809L810.788 10.7346L870.496 -5.26411L870.496 -67.0796ZM809.788 -50.8129L750.08 -34.8142L750.08 27.0013L809.788 11.0025L809.788 -50.8129ZM749.08 -34.5463L689.372 -18.5476V43.2679L749.08 27.2692L749.08 -34.5463ZM688.372 -18.2796L628.664 -2.2809V59.5346L688.372 43.5359V-18.2796ZM627.664 -2.01295L567.956 13.9858V75.8012L627.664 59.8025V-2.01295ZM566.956 14.2537L507.248 30.2524V92.0679L566.956 76.0692V14.2537ZM506.248 30.5204L446.54 46.5191V108.335L506.248 92.3358V30.5204ZM445.54 46.787L385.832 62.7857V124.601L445.54 108.603V46.787ZM384.832 63.0537L325.124 79.0524V140.868L384.832 124.869V63.0537ZM324.124 79.3203L264.416 95.319V157.135L324.124 141.136V79.3203ZM263.416 95.587L203.708 111.586V173.401L263.416 157.402V95.587ZM202.708 111.854L143 127.852V189.668L202.708 173.669V111.854ZM871.496 -4.49677L931.204 -20.4955V41.3201L871.496 57.3188V-4.49677ZM810.788 11.7699L870.496 -4.22882V57.5868L810.788 73.5855V11.7699ZM750.08 28.0365L809.788 12.0378V73.8534L750.08 89.8521V28.0365ZM689.372 44.3032L749.08 28.3045V90.1201L689.372 106.119V44.3032ZM628.664 60.5699L688.372 44.5711V106.387L628.664 122.385V60.5699ZM567.956 76.8365L627.664 60.8378V122.653L567.956 138.652V76.8365ZM507.248 93.1032L566.956 77.1045V138.92L507.248 154.919V93.1032ZM446.54 109.37L506.248 93.3711V155.187L446.54 171.185V109.37ZM385.832 125.636L445.54 109.638V171.453L385.832 187.452V125.636ZM325.124 141.903L384.832 125.904V187.72L325.124 203.719V141.903ZM264.416 158.17L324.124 142.171V203.987L264.416 219.985V158.17ZM203.708 174.436L263.416 158.438V220.253L203.708 236.252V174.436ZM143 190.703L202.708 174.704V236.52L143 252.519V190.703ZM143 253.554V315.367L202.708 299.369V237.555L143 253.554ZM203.708 237.287V299.101L263.416 283.102V221.289L203.708 237.287ZM264.416 221.021V282.834L324.124 266.835V205.022L264.416 221.021ZM325.124 204.754V266.567L384.832 250.569V188.755L325.124 204.754ZM385.832 188.487V250.301L445.54 234.302V172.489L385.832 188.487ZM446.54 172.221V234.034L506.248 218.035V156.222L446.54 172.221ZM507.248 155.954V217.767L566.956 201.769V139.955L507.248 155.954ZM567.956 139.687V201.501L627.664 185.502V123.689L567.956 139.687ZM628.664 123.421V185.234L688.372 169.235V107.422L628.664 123.421ZM689.372 107.154V168.967L749.08 152.969V91.1554L689.372 107.154ZM750.08 90.8874V152.701L809.788 136.702V74.8887L750.08 90.8874ZM810.788 74.6208V136.434L870.496 120.435V58.622L810.788 74.6208ZM871.496 58.3541V120.167L931.204 104.169V42.3554L871.496 58.3541ZM871.496 121.203L931.204 105.204V167.018L871.496 183.016V121.203ZM810.788 137.469L870.496 121.471V183.284L810.788 199.283V137.469ZM750.08 153.736L809.788 137.737V199.551L750.08 215.55V153.736ZM689.372 170.003L749.08 154.004V215.818L689.372 231.816V170.003ZM628.664 186.269L688.372 170.271V232.084L628.664 248.083V186.269ZM567.956 202.536L627.664 186.537V248.351L567.956 264.35V202.536ZM507.248 218.803L566.956 202.804V264.617L507.248 280.616V218.803ZM446.54 235.069L506.248 219.071V280.884L446.54 296.883V235.069ZM385.832 251.336L445.54 235.337V297.151L385.832 313.15V251.336ZM325.124 267.603L384.832 251.604V313.417L325.124 329.416V267.603ZM264.416 283.869L324.124 267.871V329.684L264.416 345.683V283.869ZM203.708 300.136L263.416 284.137V345.951L203.708 361.95V300.136ZM143 316.403L202.708 300.404V362.217L143 378.216V316.403ZM143 379.251V441.067L202.708 425.068V363.253L143 379.251ZM203.708 362.985V424.8L263.416 408.802V346.986L203.708 362.985ZM264.416 346.718V408.534L324.124 392.535V330.719L264.416 346.718ZM325.124 330.451V392.267L384.832 376.268V314.453L325.124 330.451ZM385.832 314.185V376L445.54 360.002V298.186L385.832 314.185ZM446.54 297.918V359.734L506.248 343.735V281.919L446.54 297.918ZM507.248 281.651V343.467L566.956 327.468V265.653L507.248 281.651ZM567.956 265.385V327.2L627.664 311.202V249.386L567.956 265.385ZM628.664 249.118V310.934L688.372 294.935V233.119L628.664 249.118ZM689.372 232.852V294.667L749.08 278.668V216.853L689.372 232.852ZM750.08 216.585V278.4L809.788 262.402V200.586L750.08 216.585ZM810.788 200.318V262.134L870.496 246.135V184.319L810.788 200.318ZM871.496 184.052V245.867L931.204 229.868V168.053L871.496 184.052ZM871.496 246.902L931.204 230.904V292.717L871.496 308.716V246.902ZM810.788 263.169L870.496 247.17V308.984L810.788 324.982V263.169ZM750.08 279.436L809.788 263.437V325.25L750.08 341.249V279.436ZM689.372 295.702L749.08 279.704V341.517L689.372 357.516V295.702ZM628.664 311.969L688.372 295.97V357.784L628.664 373.782V311.969ZM567.956 328.236L627.664 312.237V374.05L567.956 390.049V328.236ZM507.248 344.502L566.956 328.504V390.317L507.248 406.316V344.502ZM446.54 360.769L506.248 344.77V406.584L446.54 422.582V360.769ZM385.832 377.036L445.54 361.037V422.85L385.832 438.849V377.036ZM325.124 393.302L384.832 377.304V439.117L325.124 455.116V393.302ZM264.416 409.569L324.124 393.57V455.384L264.416 471.382V409.569ZM203.708 425.836L263.416 409.837V471.65L203.708 487.649V425.836ZM143 442.102L202.708 426.104V487.917L143 503.916V442.102ZM143 504.951V566.765L202.708 550.766V488.952L143 504.951ZM203.708 488.684V550.498L263.416 534.499V472.686L203.708 488.684ZM264.416 472.418V534.231L324.124 518.232V456.419L264.416 472.418ZM325.124 456.151V517.965L384.832 501.966V440.152L325.124 456.151ZM385.832 439.884V501.698L445.54 485.699V423.886L385.832 439.884ZM446.54 423.618V485.431L506.248 469.433V407.619L446.54 423.618ZM507.248 407.351V469.165L566.956 453.166V391.352L507.248 407.351ZM567.956 391.084V452.898L627.664 436.899V375.086L567.956 391.084ZM628.664 374.818V436.631L688.372 420.633V358.819L628.664 374.818ZM689.372 358.551V420.365L749.08 404.366V342.552L689.372 358.551ZM750.08 342.284V404.098L809.788 388.099V326.286L750.08 342.284ZM810.788 326.018V387.831L870.496 371.833V310.019L810.788 326.018ZM871.496 309.751V371.565L931.204 355.566V293.752L871.496 309.751ZM871.496 372.6L931.204 356.601V418.415L871.496 434.413V372.6ZM810.788 388.867L870.496 372.868V434.681L810.788 450.68V388.867ZM750.08 405.133L809.788 389.135V450.948L750.08 466.947V405.133ZM689.372 421.4L749.08 405.401V467.215L689.372 483.213V421.4ZM628.664 437.667L688.372 421.668V483.481L628.664 499.48V437.667ZM567.956 453.933L627.664 437.935V499.748L567.956 515.747V453.933ZM507.248 470.2L566.956 454.201V516.015L507.248 532.013V470.2ZM446.54 486.467L506.248 470.468V532.281L446.54 548.28V486.467ZM385.832 502.733L445.54 486.734V548.548L385.832 564.547V502.733ZM325.124 519L384.832 503.001V564.815L325.124 580.813V519ZM264.416 535.267L324.124 519.268V581.081L264.416 597.08V535.267ZM203.708 551.533L263.416 535.534V597.348L203.708 613.347V551.533ZM143 567.8L202.708 551.801V613.615L143 629.613V567.8ZM143 630.649V692.464L202.708 676.465V614.65L143 630.649ZM203.708 614.382V676.197L263.416 660.199V598.383L203.708 614.382ZM264.416 598.115V659.931L324.124 643.932V582.117L264.416 598.115ZM325.124 581.849V643.664L384.832 627.665V565.85L325.124 581.849ZM385.832 565.582V627.397L445.54 611.399V549.583L385.832 565.582ZM446.54 549.315V611.131L506.248 595.132V533.317L446.54 549.315ZM507.248 533.049V594.864L566.956 578.865V517.05L507.248 533.049ZM567.956 516.782V578.597L627.664 562.599V500.783L567.956 516.782ZM628.664 500.515V562.331L688.372 546.332V484.517L628.664 500.515ZM689.372 484.249V546.064L749.08 530.065V468.25L689.372 484.249ZM750.08 467.982V529.797L809.788 513.799V451.983L750.08 467.982ZM810.788 451.715V513.531L870.496 497.532V435.717L810.788 451.715ZM871.496 435.449V497.264L931.204 481.265V419.45L871.496 435.449ZM385.832 690.246V628.433L445.54 612.434V674.247L385.832 690.246ZM446.54 673.979V612.166L506.248 596.167V657.981L446.54 673.979ZM507.248 657.713V595.899L566.956 579.901V641.714L507.248 657.713ZM567.956 641.446V579.633L627.664 563.634V625.447L567.956 641.446ZM628.664 625.18V563.366L688.372 547.367V609.181L628.664 625.18ZM689.372 608.913V547.099L749.08 531.101V592.914L689.372 608.913ZM750.08 592.646V530.833L809.788 514.834V576.647L750.08 592.646ZM810.788 576.38V514.566L870.496 498.567V560.381L810.788 576.38ZM871.496 560.113V498.299L931.204 482.301V544.114L871.496 560.113ZM628.664 626.215V688.03L688.372 672.032V610.216L628.664 626.215ZM689.372 609.948V671.764L749.08 655.765V593.949L689.372 609.948ZM750.08 593.681V655.497L809.788 639.498V577.683L750.08 593.681ZM810.788 577.415V639.23L870.496 623.232V561.416L810.788 577.415ZM871.496 561.148V622.964L931.204 606.965V545.149L871.496 561.148Z" fill-opacity="0.1" fill-rule="evenodd"></path></g><defs><radialgradient cx="0" cy="0" gradienttransform="translate(468.373 287.536) rotate(90) scale(430.464 467.627)" gradientunits="userSpaceOnUse" id="radial-light" r="1"><stop stop-color="#D9D9D9"></stop><stop offset="1" stop-opacity="0"></stop></radialgradient></defs></svg></span><span class="hidden absolute dark:block inset-0 overflow-hidden h-[64rem]" style="background:radial-gradient(49.63% 57.02% at 58.99% -7.2%, rgba(255, 153, 17, 0.1) 39.4%, rgba(0, 0, 0, 0) 100%)"><svg class="absolute pl-48 -top-16 left-1/2 -translate-x-1/2" fill="none" height="640" viewbox="0 0 790 718" width="790" xmlns="http://www.w3.org/2000/svg"><mask height="861" id="mask-dark" maskunits="userSpaceOnUse" style="mask-type:alpha" width="936" x="0" y="-143"><ellipse cx="468.373" cy="287.536" fill="url(#radial-dark)" rx="467.627" ry="430.464"></ellipse></mask><g class="fill-primary dark:fill-primary-light" mask="url(#mask-dark)"><path d="M506.419 281.855L446.417 297.931V359.885L506.419 343.71V281.855Z" fill-opacity="0.05"></path><path d="M384.768 188.752L324.766 204.828V266.781L384.768 250.606V188.752Z" fill-opacity="0.05"></path><path d="M263.625 347.002L203.623 363.078V425.031L263.625 408.856V347.002Z" fill-opacity="0.05"></path><path d="M385.089 440.096L325.087 456.172V518.125L385.089 501.95V440.096Z" fill-opacity="0.05"></path><path d="M627.756 123.527L567.754 139.603V201.557L627.756 185.382V123.527Z" fill-opacity="0.05"></path><path d="M445.32 46.918L385.318 62.994V124.947L445.32 108.772V46.918Z" fill-opacity="0.05"></path><path d="M749.192 279.59L689.19 295.666V357.619L749.192 341.444V279.59Z" fill-opacity="0.05"></path><path d="M627.905 437.912L567.903 453.988V515.941L627.905 499.766V437.912Z" fill-opacity="0.05"></path><path d="M202.491 175.656L142.489 191.732V253.685L202.491 237.511V175.656Z" fill-opacity="0.05"></path><path clip-rule="evenodd" d="M446.54 -79.1784L949.537 -213.956L949.278 -214.922L446.54 -80.2137V-87.9997H445.54V-79.9457L385.832 -63.947V-87.9997H384.832V-63.679L325.124 -47.6803V-87.9997H324.124V-47.4124L264.416 -31.4137V-87.9997H263.416V-31.1457L203.708 -15.147L203.708 -87.9997H202.708L202.708 -14.8791L143 1.11966L143 -87.9997H142L142 1.3876L-80.8521 61.1006L-80.5932 62.0666L142 2.42287V64.2363L-65.1402 119.739L-64.8814 120.705L142 65.2715L142 127.085L-49.4278 178.378L-49.1689 179.344L142 128.12V189.936L-33.7155 237.019L-33.4566 237.985L142 190.971V252.787L-18.0025 295.659L-17.7437 296.625L142 253.822V315.635L-2.29068 354.298L-2.03186 355.264L142 316.671V378.484L13.4218 412.937L13.6806 413.903L142 379.519V441.335L29.1341 471.577L29.3929 472.543L142 442.37V504.184L44.8466 530.216L45.1054 531.182L142 505.219V567.032L60.5591 588.855L60.8179 589.82L142 568.068V629.881L76.2715 647.493L76.5303 648.459L142 630.917V692.732L91.9838 706.134L92.2426 707.1L142 693.767V698.42H143V693.499L202.708 677.501V698.42H203.708V677.233L263.416 661.234V698.42H264.416V660.966L324.124 644.967V698.42H325.124V644.699L384.832 628.701V690.514L107.696 764.773L107.954 765.738L384.832 691.549V698.42H385.832V691.281L445.54 675.283V698.42H446.54V675.015L506.248 659.016V698.42H507.248V658.748L566.956 642.749V698.42H567.956V642.481L627.664 626.483V688.298L123.409 823.413L123.667 824.379L627.664 689.334V698.42H628.664V689.066L688.372 673.067V698.42H689.372V672.799L749.08 656.8V698.42H750.08V656.532L809.788 640.534V698.42H810.788V640.266L870.496 624.267V698.42H871.496V623.999L931.204 608V698.42H932.204V607.732L1153.8 548.357L1153.54 547.391L932.204 606.697V544.881L1138.08 489.716L1137.83 488.75L932.204 543.846V482.033L1122.37 431.077L1122.11 430.111L932.204 480.997V419.182L1106.66 372.437L1106.4 371.471L932.204 418.147V356.333L1090.95 313.798L1090.69 312.832L932.204 355.298V293.484L1075.24 255.159L1074.98 254.193L932.204 292.449V230.636L1059.52 196.521L1059.26 195.555L932.204 229.6V167.785L1043.81 137.88L1043.55 136.914L932.204 166.75V104.936L1028.1 79.2413L1027.84 78.2754L932.204 103.901V42.0874L1012.39 20.6027L1012.13 19.6367L932.204 41.0522V-20.7634L996.674 -38.0379L996.415 -39.0039L932.204 -21.7987L932.204 -83.6142L980.961 -96.6786L980.702 -97.6445L932.204 -84.6495V-87.9997H931.204V-84.3815L871.496 -68.3828V-87.9997H870.496V-68.1149L810.788 -52.1161V-87.9997H809.788V-51.8482L750.08 -35.8495V-87.9997H749.08V-35.5815L689.372 -19.5828L689.372 -81.3963L965.249 -155.317L964.99 -156.283L689.372 -82.4316V-87.9997H688.372V-82.1637L628.664 -66.1649V-87.9997H627.664V-65.897L567.956 -49.8983V-87.9997H566.956V-49.6303L507.248 -33.6316V-87.9997H506.248V-33.3637L446.54 -17.365L446.54 -79.1784ZM445.54 -78.9104L385.832 -62.9117L385.832 -1.09831L445.54 -17.097L445.54 -78.9104ZM384.832 -62.6438L325.124 -46.6451L325.124 15.1684L384.832 -0.830353L384.832 -62.6438ZM324.124 -46.3771L264.416 -30.3784L264.416 31.435L324.124 15.4363L324.124 -46.3771ZM263.416 -30.1104L203.708 -14.1117V47.7017L263.416 31.703L263.416 -30.1104ZM202.708 -13.8438L143 2.15492V63.9683L202.708 47.9696V-13.8438ZM628.664 -65.1297L688.372 -81.1284L688.372 -19.3149L628.664 -3.31616L628.664 -65.1297ZM567.956 -48.863L627.664 -64.8617L627.664 -3.04822L567.956 12.9505L567.956 -48.863ZM507.248 -32.5964L566.956 -48.5951L566.956 13.2184L507.248 29.2172L507.248 -32.5964ZM446.54 -16.3297L506.248 -32.3284L506.248 29.4851L446.54 45.4838V-16.3297ZM385.832 -0.0630493L445.54 -16.0618V45.7517L385.832 61.7505V-0.0630493ZM325.124 16.2036L384.832 0.20491V62.0184L325.124 78.0171V16.2036ZM264.416 32.4703L324.124 16.4716V78.2851L264.416 94.2838V32.4703ZM203.708 48.7369L263.416 32.7382V94.5517L203.708 110.55V48.7369ZM143 65.0036L202.708 49.0049V110.818L143 126.817L143 65.0036ZM931.204 -83.3463L871.496 -67.3475L871.496 -5.53207L931.204 -21.5308L931.204 -83.3463ZM870.496 -67.0796L810.788 -51.0809L810.788 10.7346L870.496 -5.26411L870.496 -67.0796ZM809.788 -50.8129L750.08 -34.8142L750.08 27.0013L809.788 11.0025L809.788 -50.8129ZM749.08 -34.5463L689.372 -18.5476V43.2679L749.08 27.2692L749.08 -34.5463ZM688.372 -18.2796L628.664 -2.2809V59.5346L688.372 43.5359V-18.2796ZM627.664 -2.01295L567.956 13.9858V75.8012L627.664 59.8025V-2.01295ZM566.956 14.2537L507.248 30.2524V92.0679L566.956 76.0692V14.2537ZM506.248 30.5204L446.54 46.5191V108.335L506.248 92.3358V30.5204ZM445.54 46.787L385.832 62.7857V124.601L445.54 108.603V46.787ZM384.832 63.0537L325.124 79.0524V140.868L384.832 124.869V63.0537ZM324.124 79.3203L264.416 95.319V157.135L324.124 141.136V79.3203ZM263.416 95.587L203.708 111.586V173.401L263.416 157.402V95.587ZM202.708 111.854L143 127.852V189.668L202.708 173.669V111.854ZM871.496 -4.49677L931.204 -20.4955V41.3201L871.496 57.3188V-4.49677ZM810.788 11.7699L870.496 -4.22882V57.5868L810.788 73.5855V11.7699ZM750.08 28.0365L809.788 12.0378V73.8534L750.08 89.8521V28.0365ZM689.372 44.3032L749.08 28.3045V90.1201L689.372 106.119V44.3032ZM628.664 60.5699L688.372 44.5711V106.387L628.664 122.385V60.5699ZM567.956 76.8365L627.664 60.8378V122.653L567.956 138.652V76.8365ZM507.248 93.1032L566.956 77.1045V138.92L507.248 154.919V93.1032ZM446.54 109.37L506.248 93.3711V155.187L446.54 171.185V109.37ZM385.832 125.636L445.54 109.638V171.453L385.832 187.452V125.636ZM325.124 141.903L384.832 125.904V187.72L325.124 203.719V141.903ZM264.416 158.17L324.124 142.171V203.987L264.416 219.985V158.17ZM203.708 174.436L263.416 158.438V220.253L203.708 236.252V174.436ZM143 190.703L202.708 174.704V236.52L143 252.519V190.703ZM143 253.554V315.367L202.708 299.369V237.555L143 253.554ZM203.708 237.287V299.101L263.416 283.102V221.289L203.708 237.287ZM264.416 221.021V282.834L324.124 266.835V205.022L264.416 221.021ZM325.124 204.754V266.567L384.832 250.569V188.755L325.124 204.754ZM385.832 188.487V250.301L445.54 234.302V172.489L385.832 188.487ZM446.54 172.221V234.034L506.248 218.035V156.222L446.54 172.221ZM507.248 155.954V217.767L566.956 201.769V139.955L507.248 155.954ZM567.956 139.687V201.501L627.664 185.502V123.689L567.956 139.687ZM628.664 123.421V185.234L688.372 169.235V107.422L628.664 123.421ZM689.372 107.154V168.967L749.08 152.969V91.1554L689.372 107.154ZM750.08 90.8874V152.701L809.788 136.702V74.8887L750.08 90.8874ZM810.788 74.6208V136.434L870.496 120.435V58.622L810.788 74.6208ZM871.496 58.3541V120.167L931.204 104.169V42.3554L871.496 58.3541ZM871.496 121.203L931.204 105.204V167.018L871.496 183.016V121.203ZM810.788 137.469L870.496 121.471V183.284L810.788 199.283V137.469ZM750.08 153.736L809.788 137.737V199.551L750.08 215.55V153.736ZM689.372 170.003L749.08 154.004V215.818L689.372 231.816V170.003ZM628.664 186.269L688.372 170.271V232.084L628.664 248.083V186.269ZM567.956 202.536L627.664 186.537V248.351L567.956 264.35V202.536ZM507.248 218.803L566.956 202.804V264.617L507.248 280.616V218.803ZM446.54 235.069L506.248 219.071V280.884L446.54 296.883V235.069ZM385.832 251.336L445.54 235.337V297.151L385.832 313.15V251.336ZM325.124 267.603L384.832 251.604V313.417L325.124 329.416V267.603ZM264.416 283.869L324.124 267.871V329.684L264.416 345.683V283.869ZM203.708 300.136L263.416 284.137V345.951L203.708 361.95V300.136ZM143 316.403L202.708 300.404V362.217L143 378.216V316.403ZM143 379.251V441.067L202.708 425.068V363.253L143 379.251ZM203.708 362.985V424.8L263.416 408.802V346.986L203.708 362.985ZM264.416 346.718V408.534L324.124 392.535V330.719L264.416 346.718ZM325.124 330.451V392.267L384.832 376.268V314.453L325.124 330.451ZM385.832 314.185V376L445.54 360.002V298.186L385.832 314.185ZM446.54 297.918V359.734L506.248 343.735V281.919L446.54 297.918ZM507.248 281.651V343.467L566.956 327.468V265.653L507.248 281.651ZM567.956 265.385V327.2L627.664 311.202V249.386L567.956 265.385ZM628.664 249.118V310.934L688.372 294.935V233.119L628.664 249.118ZM689.372 232.852V294.667L749.08 278.668V216.853L689.372 232.852ZM750.08 216.585V278.4L809.788 262.402V200.586L750.08 216.585ZM810.788 200.318V262.134L870.496 246.135V184.319L810.788 200.318ZM871.496 184.052V245.867L931.204 229.868V168.053L871.496 184.052ZM871.496 246.902L931.204 230.904V292.717L871.496 308.716V246.902ZM810.788 263.169L870.496 247.17V308.984L810.788 324.982V263.169ZM750.08 279.436L809.788 263.437V325.25L750.08 341.249V279.436ZM689.372 295.702L749.08 279.704V341.517L689.372 357.516V295.702ZM628.664 311.969L688.372 295.97V357.784L628.664 373.782V311.969ZM567.956 328.236L627.664 312.237V374.05L567.956 390.049V328.236ZM507.248 344.502L566.956 328.504V390.317L507.248 406.316V344.502ZM446.54 360.769L506.248 344.77V406.584L446.54 422.582V360.769ZM385.832 377.036L445.54 361.037V422.85L385.832 438.849V377.036ZM325.124 393.302L384.832 377.304V439.117L325.124 455.116V393.302ZM264.416 409.569L324.124 393.57V455.384L264.416 471.382V409.569ZM203.708 425.836L263.416 409.837V471.65L203.708 487.649V425.836ZM143 442.102L202.708 426.104V487.917L143 503.916V442.102ZM143 504.951V566.765L202.708 550.766V488.952L143 504.951ZM203.708 488.684V550.498L263.416 534.499V472.686L203.708 488.684ZM264.416 472.418V534.231L324.124 518.232V456.419L264.416 472.418ZM325.124 456.151V517.965L384.832 501.966V440.152L325.124 456.151ZM385.832 439.884V501.698L445.54 485.699V423.886L385.832 439.884ZM446.54 423.618V485.431L506.248 469.433V407.619L446.54 423.618ZM507.248 407.351V469.165L566.956 453.166V391.352L507.248 407.351ZM567.956 391.084V452.898L627.664 436.899V375.086L567.956 391.084ZM628.664 374.818V436.631L688.372 420.633V358.819L628.664 374.818ZM689.372 358.551V420.365L749.08 404.366V342.552L689.372 358.551ZM750.08 342.284V404.098L809.788 388.099V326.286L750.08 342.284ZM810.788 326.018V387.831L870.496 371.833V310.019L810.788 326.018ZM871.496 309.751V371.565L931.204 355.566V293.752L871.496 309.751ZM871.496 372.6L931.204 356.601V418.415L871.496 434.413V372.6ZM810.788 388.867L870.496 372.868V434.681L810.788 450.68V388.867ZM750.08 405.133L809.788 389.135V450.948L750.08 466.947V405.133ZM689.372 421.4L749.08 405.401V467.215L689.372 483.213V421.4ZM628.664 437.667L688.372 421.668V483.481L628.664 499.48V437.667ZM567.956 453.933L627.664 437.935V499.748L567.956 515.747V453.933ZM507.248 470.2L566.956 454.201V516.015L507.248 532.013V470.2ZM446.54 486.467L506.248 470.468V532.281L446.54 548.28V486.467ZM385.832 502.733L445.54 486.734V548.548L385.832 564.547V502.733ZM325.124 519L384.832 503.001V564.815L325.124 580.813V519ZM264.416 535.267L324.124 519.268V581.081L264.416 597.08V535.267ZM203.708 551.533L263.416 535.534V597.348L203.708 613.347V551.533ZM143 567.8L202.708 551.801V613.615L143 629.613V567.8ZM143 630.649V692.464L202.708 676.465V614.65L143 630.649ZM203.708 614.382V676.197L263.416 660.199V598.383L203.708 614.382ZM264.416 598.115V659.931L324.124 643.932V582.117L264.416 598.115ZM325.124 581.849V643.664L384.832 627.665V565.85L325.124 581.849ZM385.832 565.582V627.397L445.54 611.399V549.583L385.832 565.582ZM446.54 549.315V611.131L506.248 595.132V533.317L446.54 549.315ZM507.248 533.049V594.864L566.956 578.865V517.05L507.248 533.049ZM567.956 516.782V578.597L627.664 562.599V500.783L567.956 516.782ZM628.664 500.515V562.331L688.372 546.332V484.517L628.664 500.515ZM689.372 484.249V546.064L749.08 530.065V468.25L689.372 484.249ZM750.08 467.982V529.797L809.788 513.799V451.983L750.08 467.982ZM810.788 451.715V513.531L870.496 497.532V435.717L810.788 451.715ZM871.496 435.449V497.264L931.204 481.265V419.45L871.496 435.449ZM385.832 690.246V628.433L445.54 612.434V674.247L385.832 690.246ZM446.54 673.979V612.166L506.248 596.167V657.981L446.54 673.979ZM507.248 657.713V595.899L566.956 579.901V641.714L507.248 657.713ZM567.956 641.446V579.633L627.664 563.634V625.447L567.956 641.446ZM628.664 625.18V563.366L688.372 547.367V609.181L628.664 625.18ZM689.372 608.913V547.099L749.08 531.101V592.914L689.372 608.913ZM750.08 592.646V530.833L809.788 514.834V576.647L750.08 592.646ZM810.788 576.38V514.566L870.496 498.567V560.381L810.788 576.38ZM871.496 560.113V498.299L931.204 482.301V544.114L871.496 560.113ZM628.664 626.215V688.03L688.372 672.032V610.216L628.664 626.215ZM689.372 609.948V671.764L749.08 655.765V593.949L689.372 609.948ZM750.08 593.681V655.497L809.788 639.498V577.683L750.08 593.681ZM810.788 577.415V639.23L870.496 623.232V561.416L810.788 577.415ZM871.496 561.148V622.964L931.204 606.965V545.149L871.496 561.148Z" fill-opacity="0.1" fill-rule="evenodd"></path></g><defs><radialgradient cx="0" cy="0" gradienttransform="translate(468.373 287.536) rotate(90) scale(430.464 467.627)" gradientunits="userSpaceOnUse" id="radial-dark" r="1"><stop stop-color="#D9D9D9"></stop><stop offset="1" stop-opacity="0"></stop></radialgradient></defs></svg></span><div class="relative antialiased text-gray-500 dark:text-gray-400"><div class="z-30 fixed lg:sticky top-0 w-full" id="navbar"><div class="absolute w-full h-full backdrop-blur flex-none transition-colors duration-500 border-b border-gray-500/5 dark:border-gray-300/[0.06] supports-backdrop-blur:bg-background-light/60 dark:bg-transparent" id="navbar-transition"></div><div class="max-w-8xl mx-auto relative"><div class=""><div class="relative"><div class="flex items-center lg:px-12 h-16 min-w-0 mx-4 lg:mx-0"><div class="h-full relative flex-1 flex items-center gap-x-4 min-w-0 border-b border-gray-500/5 dark:border-gray-300/[0.06]"><div class="flex-1 flex items-center gap-x-4"><a href="https://docs.cyndra.dev/"><span class="sr-only">Cyndra Docs<!-- --> home page</span><img alt="light logo" class="nav-logo w-auto h-7 relative object-contain block dark:hidden" src="/images/logo.png"/><img alt="dark logo" class="nav-logo w-auto h-7 relative object-contain hidden dark:block" src="/images/logo.png"/></a><div class="flex items-center gap-x-2"></div></div><button class="hidden lg:flex relative flex-1 pointer-events-auto rounded-xl w-full items-center text-sm leading-6 py-1.5 pl-3.5 pr-3 shadow-sm text-gray-400 dark:text-white/50 bg-background-light dark:bg-background-dark dark:brightness-[1.1] dark:ring-1 dark:hover:brightness-[1.25] ring-1 ring-gray-400/20 hover:ring-gray-600/25 dark:ring-gray-600/30 dark:hover:ring-gray-500/30 focus:outline-primary justify-between truncate gap-2 min-w-[43px]" id="search-bar-entry" type="button"><div class="flex items-center gap-3 min-w-[42px]"><svg class="lucide lucide-search min-w-4 flex-none text-gray-700 hover:text-gray-800 dark:text-gray-300 hover:dark:text-gray-200" fill="none" height="16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><div class="truncate min-w-0">Search or ask...</div></div></button><div class="flex-1 relative hidden lg:flex items-center ml-auto justify-end space-x-4"><div class="flex items-center"><button aria-label="Toggle dark mode" class="group p-2 flex items-center justify-center"><svg class="h-4 w-4 block text-gray-400 dark:hidden group-hover:text-gray-600" fill="none" height="16" stroke="currentColor" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_2880_7340)"><path d="M8 1.11133V2.00022" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path><path d="M12.8711 3.12891L12.2427 3.75735" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path><path d="M14.8889 8H14" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path><path d="M12.8711 12.8711L12.2427 12.2427" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path><path d="M8 14.8889V14" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path><path d="M3.12891 12.8711L3.75735 12.2427" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path><path d="M1.11133 8H2.00022" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path><path d="M3.12891 3.12891L3.75735 3.75735" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path><path d="M8.00043 11.7782C10.0868 11.7782 11.7782 10.0868 11.7782 8.00043C11.7782 5.91402 10.0868 4.22266 8.00043 4.22266C5.91402 4.22266 4.22266 5.91402 4.22266 8.00043C4.22266 10.0868 5.91402 11.7782 8.00043 11.7782Z" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path></g><defs><clippath id="clip0_2880_7340"><rect fill="white" height="16" width="16"></rect></clippath></defs></svg><svg class="lucide lucide-moon h-4 w-4 hidden dark:block text-gray-500 dark:group-hover:text-gray-300" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></button></div></div><div class="flex lg:hidden items-center gap-2"><button class="text-gray-500 w-8 h-8 flex items-center justify-center hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300" id="search-bar-entry-mobile" type="button"><span class="sr-only">Search...</span><svg class="h-4 w-4 bg-gray-500 dark:bg-gray-400 hover:bg-gray-600 dark:hover:bg-gray-300" style="-webkit-mask-image:url(https://mintlify.b-cdn.net/v6.6.0/solid/magnifying-glass.svg);-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;mask-image:url(https://mintlify.b-cdn.net/v6.6.0/solid/magnifying-glass.svg);mask-repeat:no-repeat;mask-position:center"></svg></button><button aria-label="More actions" class="h-7 w-5 flex items-center justify-end"><svg class="h-4 w-4 bg-gray-500 dark:bg-gray-400 hover:bg-gray-600 dark:hover:bg-gray-300" style="-webkit-mask-image:url(https://mintlify.b-cdn.net/v6.6.0/solid/ellipsis-vertical.svg);-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;mask-image:url(https://mintlify.b-cdn.net/v6.6.0/solid/ellipsis-vertical.svg);mask-repeat:no-repeat;mask-position:center"></svg></button></div></div></div><button class="flex items-center h-14 py-4 px-5 lg:hidden" type="button"><div class="text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"><span class="sr-only">Navigation</span><svg class="h-4" fill="currentColor" viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"></path></svg></div><div class="ml-4 flex text-sm leading-6 whitespace-nowrap min-w-0 space-x-3"><div class="flex items-center space-x-3"><span>Tutorials</span><svg class="h-5 rotate-0 overflow-visible fill-gray-400" height="24" viewbox="0 -9 3 24" width="3"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"></path></svg></div><div class="font-semibold text-gray-900 truncate dark:text-gray-200">Chat app with React &amp; Rust</div></div></button></div><div class="hidden lg:flex px-12 h-12"><div class="nav-tabs h-full flex text-sm space-x-6"><a class="link nav-tabs-item group relative h-full flex items-center font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300" href="../../welcome/introduction.html">Documentation<div class="absolute bottom-0 h-[1.5px] w-full group-hover:bg-gray-200 dark:group-hover:bg-gray-700"></div></a><a class="link nav-tabs-item group relative h-full flex items-center font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300" href="../../examples/overview.html">Examples<div class="absolute bottom-0 h-[1.5px] w-full group-hover:bg-gray-200 dark:group-hover:bg-gray-700"></div></a><a class="link nav-tabs-item group relative h-full flex items-center hover:text-gray-800 dark:hover:text-gray-300 text-gray-800 dark:text-gray-200 font-semibold" href="../overview.html">Templates and Tutorials<div class="absolute bottom-0 h-[1.5px] w-full bg-primary dark:bg-primary-light"></div></a></div></div></div></div></div><div class="max-w-8xl px-4 mx-auto lg:px-8"><div class="z-20 hidden lg:block fixed bottom-0 right-auto w-[18rem]" id="sidebar" style="top:7rem"><div class="absolute inset-0 z-10 stable-scrollbar-gutter overflow-auto pr-8 pb-10" id="sidebar-content"><div class="relative lg:text-sm lg:leading-6"><div class="sticky top-0 h-8"></div><div id="navigation-items"><li class="list-none"><a class="link nav-anchor pl-4 group flex items-center lg:text-sm lg:leading-6 mb-5 sm:mb-4 font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="https://github.com/cyndra-hq/cyndra" rel="noreferrer" target="_blank"><div class="mr-4 rounded-md p-1 shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 group-hover:brightness-100 group-hover:ring-0 ring-1 ring-gray-950/5 dark:ring-gray-700/40"><svg class="h-4 w-4 secondary-opacity group-hover:fill-primary-dark group-hover:bg-white bg-gray-400 dark:bg-gray-500" style="-webkit-mask-image:url(https://mintlify.b-cdn.net/v6.6.0/brands/github.svg);-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;mask-image:url(https://mintlify.b-cdn.net/v6.6.0/brands/github.svg);mask-repeat:no-repeat;mask-position:center"></svg></div>GitHub</a></li><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Templates and Tutorials</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/overview"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="../overview.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">Overview</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Fullstack Templates</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/fullstack/saas-template"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="../fullstack/saas-template.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">SaaS Starter Template</div></div></a></li></ul></div><div class="mt-12 lg:mt-8"><h5 class="pl-4 mb-3.5 lg:mb-2.5 font-semibold text-gray-900 dark:text-gray-200" id="sidebar-title">Tutorials</h5><ul id="sidebar-group"><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/tutorials/rest-http-service-with-axum"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="rest-http-service-with-axum.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">Writing a Rest HTTP Service with Axum</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/tutorials/discord-weather-forecast"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="discord-weather-forecast.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">Discord Weather Forecast Bot</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/tutorials/databases-with-rust"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="databases-with-rust.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">Working with Databases in Rust</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/tutorials/serverless-calendar-app"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="serverless-calendar-app.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">Serverless Calendar App</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/tutorials/url-shortener"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="url-shortener.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">URL Shortener</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/tutorials/authentication"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="authentication.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">Authentication</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/tutorials/send-your-logs-to-datadog"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="send-your-logs-to-datadog.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">Using Cyndra with Datadog</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/tutorials/websocket-chat-app-js"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl bg-primary/10 text-primary font-semibold dark:text-primary-light dark:bg-primary-light/10" href="websocket-chat-app-js.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">Chat app with React &amp; Rust</div></div></a></li><li class="relative scroll-m-4 first:scroll-m-20" id="/templates/tutorials/custom-service"><a class="group mt-2 lg:mt-0 flex items-center pr-3 py-1.5 cursor-pointer focus:outline-primary dark:focus:outline-primary-light gap-x-3 rounded-xl hover:bg-gray-600/5 dark:hover:bg-gray-200/5 text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="custom-service.html" style="padding-left:1rem"><div class="flex-1 flex items-center space-x-2.5"><div class="">Custom Service</div></div></a></li></ul></div></div></div></div></div><div class="" id="content-container"><div class="flex flex-row gap-12 box-border w-full pt-40 lg:pt-10"><div class="relative grow box-border flex-col w-full mx-auto px-1 lg:pl-[23.7rem] lg:-ml-12 xl:w-[calc(100%-28rem)]" id="content-area"><header class="relative" id="header"><div class="mt-0.5 space-y-2.5"><div class="eyebrow h-5 text-primary dark:text-primary-light text-sm font-semibold">Tutorials</div><div class="flex items-center relative gap-2"><h1 class="inline-block text-2xl sm:text-3xl font-bold text-gray-900 tracking-tight dark:text-gray-200" id="page-title">Chat app with React &amp; Rust</h1></div></div><div class="mt-2 text-lg prose prose-gray dark:prose-invert"><p>Learn how to write a Rust chat application with React on the frontend.</p></div></header><div class="flex flex-col gap-8"></div><div class="mdx-content relative mt-8 prose prose-gray dark:prose-invert"><p>Source code can be found <a class="link" href="https://github.com/joshua-mo-143/react-websocket-chat-rust" rel="noreferrer" target="_blank">here</a>.</p>
<p>With Rust going from strength to strength within the web development space, it is clear why many developers and big names are starting to take notice. As one example of this, Meta has recently <a class="link" href="https://engineering.fb.com/2022/07/27/developer-tools/programming-languages-endorsed-for-server-side-use-at-meta/#:~:text=Meta's%20primary%20supported%20server%2Dside,new%20addition%20to%20this%20list." rel="noreferrer" target="_blank">recommended Rust</a> as a server-side language. If that wont make people sit up and look, then its hard to know what will - Rusts current offering easily stands on par with most other languages that you could use in a back-end API or microservice, and it will only get better with time.</p>
<p>Lets explore Rust in everyday usage by creating a Typescript React app and combining it with a Rust API that uses WebSockets. While node.js is quick to set up, doesnt require context switching and is easy to use if you already have Javascript knowledge from learning it for writing front-end web apps, you dont need to have a high level of knowledge in Rust to get started writing competent web services that can easily carry out whatever you need.</p>
<p></p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="initial-setup"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="websocket-chat-app-js.html#initial-setup"><div class="w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20"><svg fill="gray" height="12px" viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"></path></svg></div></a></div><span class="cursor-pointer">Initial setup</span></h3>
<p>We will be using Vite to scaffold our project, as its a quick and fast bundler for starting up your development environment quickly as well as being less opinionated than create-react-app. Lets get into it:
<code>npm create vite@latest wschat-react-rust --template react-ts</code></p>
<p>This should now scaffold a project within a subfolder of your current working directory called <code>wschat-react-rust</code>.</p>
<p>For our CSS, well be using TailwindCSS. Tailwind is a utility-first CSS library that allows you to be able to quickly and easily scaffold smaller projects without having to constantly fight media queries by providing utility classes with a mobile-first approach (as a side note: this isnt necessarily better or worse than regular CSS - this is just how I like to do it!). You can find out how to install it here. Its quick, easy, and very easy to configure.</p>
<p>Before we start, make sure you delete all of the HTML from the App menu (make sure you return an empty div!), make sure any unnecessary imports are removed and ensure that Tailwind is in your main CSS file.</p>
<p>Here are the contents of my CSS file if youd like to use my CSS styles exactly:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-css"><code class="language-css"><span class="">// index.css</span>
<span class=""><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'https://fonts.googleapis.com/css2?family=Text+Me+One&amp;display=swap'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span></span>
<span class=""><span class="token atrule"><span class="token rule">@tailwind</span> base<span class="token punctuation">;</span></span></span>
<span class=""><span class="token atrule"><span class="token rule">@tailwind</span> components<span class="token punctuation">;</span></span></span>
<span class=""><span class="token atrule"><span class="token rule">@tailwind</span> utilities<span class="token punctuation">;</span></span></span>
<!-- -->
<span class=""><span class="token atrule"><span class="token rule">@layer</span> base</span> <span class="token punctuation">{</span></span>
<!-- -->
<span class="">  <span class="token selector">input<span class="token punctuation">,</span> button</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token number">5</span><span class="token unit">px</span> <span class="token color"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<!-- -->
<span class="">  <span class="token selector">input<span class="token pseudo-class">:active</span><span class="token punctuation">,</span> button<span class="token pseudo-class">:active</span></span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token property">box-shadow</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token unit">px</span> <span class="token number">3</span><span class="token unit">px</span> <span class="token color"><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span></span>
<!-- -->
<span class=""><span class="token selector">body</span> <span class="token punctuation">{</span></span>
<span class="">  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Text Me One'</span><span class="token punctuation">,</span> <span class="token string">'Sans Serif'</span><span class="token punctuation">;</span></span>
<span class="">  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="">  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="">  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">214</span> <span class="token number">211</span> <span class="token number">209</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">  <span class="token property">box-sizing</span><span class="token punctuation">:</span> box-border<span class="token punctuation">;</span></span>
<span class="">  <span class="token property">overflow-x</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="getting-started"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="websocket-chat-app-js.html#getting-started"><div class="w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20"><svg fill="gray" height="12px" viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"></path></svg></div></a></div><span class="cursor-pointer">Getting Started</span></h3>
<p>Before we do anything, lets quickly scaffold our page so that we have something that we can look at (well be putting this in the main App component but feel free to put this on a page component):</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-js"><code class="language-js"><span class=""><span class="token comment">// App.tsx</span></span>
<span class=""><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">SetStateAction</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span></span>
<!-- -->
<span class="">type <span class="token maybe-class-name">Message</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="">  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">,</span></span>
<span class="">  <span class="token literal-property property">uid</span><span class="token operator">:</span> number<span class="token punctuation">,</span></span>
<span class="">  <span class="token literal-property property">message</span><span class="token operator">:</span> string</span>
<span class=""><span class="token punctuation">}</span></span>
<span class=""><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="">  <span class="token keyword">const</span> <span class="token punctuation">[</span>message<span class="token punctuation">,</span> setMessage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access">useState</span><span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class=""><span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access">useState</span><span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class=""><span class="token keyword">const</span> <span class="token punctuation">[</span>vis<span class="token punctuation">,</span> setVis<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access">useState</span><span class="token operator">&lt;</span>boolean<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span></span>
<!-- -->
<span class="">    <span class="token operator">&lt;</span><span class="token operator">&gt;</span></span>
<span class="">      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"flex flex-row text-gray-100"</span><span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">'w-full bg-slate-700 flex flex-col pb-5'</span> <span class="token operator">&gt;</span></span>
<span class="">          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">'w-full min-h-screen flex flex-col justify-end gap-4 pb-20'</span> id<span class="token operator">=</span><span class="token string">"chatbox"</span><span class="token operator">&gt;</span></span>
<span class=""><span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"mx-8 break-all chat-message bg-slate-600 rounded-xl rounded-xl w-fit inline-block px-5 py-4"</span><span class="token operator">&gt;</span></span>
<span class="">                <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token maybe-class-name">Hi</span><span class="token operator">!</span> <span class="token maybe-class-name">Welcome</span> to <span class="token maybe-class-name">Rustcord</span><span class="token punctuation">.</span> <span class="token property-access"><span class="token maybe-class-name">Enjoy</span></span> your stay<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span></span>
<span class="">              <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="">          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="">          <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">'w-full h-10 fixed bottom-0 flex flex-row justify-center gap-4 mb-5 px-5'</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> name<span class="token punctuation">,</span> message<span class="token punctuation">,</span> setMessage<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="">            <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">"message"</span> id<span class="token operator">=</span><span class="token string">"messageBox"</span> type<span class="token operator">=</span><span class="token string">"text"</span> className<span class="token operator">=</span><span class="token string">'bg-slate-400 w-full py-2 px-5 focus:outline-0 rounded-tl-xl rounded-bl-xl'</span> value<span class="token operator">=</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span></span>
<span class="">              placeholder<span class="token operator">=</span><span class="token string">"Enter your message here..."</span></span>
<span class="">              onInput<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ChangeEvent</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="">            <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"messageBtn"</span> className<span class="token operator">=</span><span class="token string">'bg-slate-400 px-2 active:translate-y-0.5 active:translate-x-0.5 hover:text-black transition-all rounded-tr-xl rounded-br-xl'</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Send</span> <span class="token maybe-class-name">Message</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>
<span class="">          <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="">      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span></span>
<!-- -->
<span class="">  <span class="token punctuation">)</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>If youve already used Typescript, this component should be simple to understand. For the uninitiated however: the only changes that are there at the moment in comparison to a pure JavaScript project is that weve declared a new type (Message) which well be using later on, and weve also had to declare specific types for our state setters as well as <code>e.target.value</code>. This is important as TypeScript needs to know what type our events are, otherwise itll complain and refuse to compile.</p>
<p>Thats pretty much it for the main component! We need a modal that can get a name, and then we just need to set up WebSocket functionality. Lets create our modal:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-js"><code class="language-js"><span class=""><span class="token comment">// UserModal.tsx</span></span>
<span class=""><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">SetStateAction</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span></span>
<!-- -->
<span class="">type <span class="token maybe-class-name">Props</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="">  <span class="token literal-property property">vis</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span></span>
<span class="">  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">,</span></span>
<span class="">  <span class="token literal-property property">setName</span><span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Dispatch</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">SetStateAction</span><span class="token operator">&lt;</span>string<span class="token operator">&gt;&gt;</span><span class="token punctuation">,</span></span>
<span class="">  <span class="token literal-property property">setVis</span><span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Dispatch</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">SetStateAction</span><span class="token operator">&lt;</span>boolean<span class="token operator">&gt;&gt;</span></span>
<span class=""><span class="token punctuation">}</span></span>
<!-- -->
<span class=""><span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">NamePrompt</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>vis<span class="token punctuation">,</span> name<span class="token punctuation">,</span> setName<span class="token punctuation">,</span> setVis<span class="token punctuation">}</span><span class="token operator">:</span> <span class="token maybe-class-name">Props</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span></span>
<!-- -->
<span class="">  <span class="token keyword">const</span> <span class="token function-variable function">submitName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">FormEvent</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLFormElement</span><span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="">    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>name <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="">      <span class="token keyword control-flow">return</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class="">    <span class="token function">setVis</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<!-- -->
<span class="">  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span></span>
<span class="">    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>vis <span class="token operator">?</span> <span class="token string">'z-40 transition-all flex flex-col justify-center items-center h-screen w-screen absolute backdrop-blur-xl'</span> <span class="token operator">:</span> <span class="token string">"transition-all hidden flex flex-col justify-center items-center h-screen w-screen absolute backdrop-blur-xl"</span><span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="">          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">'z-50 w-4/5 h-3/5 lg:w-2/5 lg:h-2/5 bg-slate-300 flex flex-col justify-center items-center rounded-xl shadow-md'</span><span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">'flex gap-4 flex-col items-center'</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">submitName</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="">          <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">'text-lg lg:text-2xl'</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Hi</span> there<span class="token operator">!</span> <span class="token maybe-class-name">What</span>'s your name<span class="token operator">?</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span></span>
<span class="">            <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> className<span class="token operator">=</span><span class="token string">'px-5 py-2 rounded-xl required'</span> value<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> onInput<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ChangeEvent</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="">            <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"submit"</span> className<span class="token operator">=</span><span class="token string">'text-gray-100 bg-slate-500 px-5 py-2 rounded-xl active:translate-y-0.5 active:translate-x-0.5 hover:bg-slate-400 transition-all'</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Submit</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span></span>
<span class="">        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<!-- -->
<span class="">  <span class="token punctuation">)</span></span>
<span class=""><span class="token punctuation">}</span></span>
<!-- -->
<span class=""><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token maybe-class-name">NamePrompt</span></span>
</code></pre></div></div></div>
<p>When we initially load up our webpage, we want this modal to appear before the user enters the chatroom as we need the user to set a name, which means we should make it so that the modal is initially visible, but once the user has confirmed a name (and is in the chat), we should hide the modal. Like before, the only real difference here in comparison to Javascript is weve declared types for our props as Typescript needs to know what to parse them as - otherwise, it wont compile.</p>
<p>Now we can simply proceed to import the modal into our page component like so (dont forget to pass props and use React fragments if required!):</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-js"><code class="language-js"><span class=""><span class="token comment">// App.tsx</span></span>
<span class=""><span class="token operator">&lt;</span><span class="token maybe-class-name">NamePrompt</span> vis<span class="token operator">=</span><span class="token punctuation">{</span>vis<span class="token punctuation">}</span> name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> setName<span class="token operator">=</span><span class="token punctuation">{</span>setName<span class="token punctuation">}</span> setVis<span class="token operator">=</span><span class="token punctuation">{</span>setVis<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
</code></pre></div></div></div>
<p>Now that the main design of the app is done, lets think about how we can implement a WebSocket connection. To start with, we can open a WebSocket connection at a URL by simply writing the following:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-js"><code class="language-js"><span class=""><span class="token comment">// App.tsx</span></span>
<span class=""><span class="token keyword">const</span> websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">"ws://localhost:8000/ws"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</code></pre></div></div></div>
<p>This opens a WebSocket connection at <code>localhost:8000/ws</code>. Not particularly useful at the moment because we currently dont have anything we can connect it to, but well need this for testing later on.</p>
<p>Now that weve opened a WebSocket connection, we can add a method for when the connection opens, when it closes, and when we receive a message - like so:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-js"><code class="language-js"><span class=""><span class="token comment">// App.tsx</span></span>
<span class=""><span class="token comment">// On connection open, write "Connected" to the console</span></span>
<span class="">websocket<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onopen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Connected"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class=""><span class="token punctuation">}</span></span>
<!-- -->
<span class=""><span class="token comment">// On connection close, write "Disconnected" to the console</span></span>
<span class="">websocket<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onclose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Disconnected"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class=""><span class="token punctuation">}</span></span>
<!-- -->
<span class=""><span class="token comment">// On receiving a message from the server, write the WebSocket message to the console</span></span>
<span class="">websocket<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="">  <span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>ev<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">  <span class="token function">create_message</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>Although weve told our program that we want to create a message entry when we receive a message, we dont have a <code>create_message</code> function at the moment. This function will simply consist of creating a new HTML element, appending some classes and creating the text that will go inside the container div (and appending it to the container), and then appending our message itself to the chatbox as well as scrolling down to the bottom.</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-js"><code class="language-js"><span class=""><span class="token comment">// App.tsx (put this outside of the component)</span></span>
<!-- -->
<span class=""><span class="token comment">// store the message classes as an array by simply splitting the string of classes by whitespace</span></span>
<span class=""><span class="token keyword">const</span> message_classes <span class="token operator">=</span> <span class="token string">"mx-8 break-all chat-message bg-slate-600 rounded-xl w-fit max-w-screen rounded-xl px-5 py-4"</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class=""><span class="token keyword">const</span> username_css_classes <span class="token operator">=</span> <span class="token string">"text-gray-200 text-sm"</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class=""><span class="token comment">// create message div and append it to the chatbox</span></span>
<span class=""><span class="token keyword">const</span> <span class="token function-variable function">create_message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token maybe-class-name">Message</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="">  <span class="token keyword">let</span> messageContainer <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class=""><span class="token comment">// add an array of classes using the spread operator here</span></span>
<span class="">  messageContainer<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token spread operator">...</span>message_classes<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">  <span class="token keyword">let</span> chatbox <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'#chatbox'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">  <span class="token keyword">let</span> username <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">  username<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token spread operator">...</span>username_css_classes<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">  username<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></span>
<span class="">  messageContainer<span class="token punctuation">.</span><span class="token method function property-access">append</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">  <span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">  message<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></span>
<span class="">  messageContainer<span class="token punctuation">.</span><span class="token method function property-access">append</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">  chatbox<span class="token operator">?.</span><span class="token method function property-access">append</span><span class="token punctuation">(</span>messageContainer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">  <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">scrollHeight</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>Now our front end is pretty much done!</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="setting-up-rust"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="websocket-chat-app-js.html#setting-up-rust"><div class="w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20"><svg fill="gray" height="12px" viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"></path></svg></div></a></div><span class="cursor-pointer">Setting up Rust</span></h3>
<p>Getting started with Rust is very easy. You can install it on Linux or WSL (Windows Subsystems for Linux) by using the following command:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-bash"><code class="language-bash"><span class=""><span class="token function">curl</span> <span class="token parameter variable">--proto</span> <span class="token string">'=https'</span> <span class="token parameter variable">--tlsv1.2</span> <span class="token parameter variable">-sSf</span> https://sh.rustup.rs <span class="token operator">|</span> <span class="token function">sh</span></span>
</code></pre></div></div></div>
<p>If youre on Windows and dont have WSL, you can find the install page for Rust <a class="link" href="https://www.rust-lang.org/learn/get-started" rel="noreferrer" target="_blank">here</a>.</p>
<p>However you install it, youll also get Rusts package manager called Cargo, which is like NPM for Rust. Cargo allows you to install Rusts packages which are called crates.</p>
<p>For the back end part, because well be serving the web server through Cyndra, we will need to install their CLI which we can do with the following command:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-bash"><code class="language-bash"><span class=""><span class="token function">cargo</span> <span class="token function">install</span> cargo-cyndra</span>
</code></pre></div></div></div>
<p>You can also use <a class="link" href="https://github.com/cargo-bins/cargo-binstall" rel="noreferrer" target="_blank"><code>cargo-binstall</code></a> to install cargo-cyndra:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-bash"><code class="language-bash"><span class=""><span class="token function">cargo</span> binstall cargo-cyndra</span>
</code></pre></div></div></div>
<p>The installation may take a while depending on your Internet connection, so feel free to grab a drink while you wait. You will also want to log onto their website here through GitHub and make sure you have your API key as you will need to log in on the CLI with your key before you can make any projects.</p>
<p>Once the installation is done, you can start a Cyndra project with the following command below (run this in your React project at the packages.json level):</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-bash"><code class="language-bash"><span class="">cyndra init <span class="token parameter variable">--template</span> axum</span>
</code></pre></div></div></div>
<p>This will prompt you to input a project name - once youve inputted a project name, this will scaffold a project for you that uses Axum, which is a Rust web framework that is easy to build on with simple syntax. The project will be built in a folder within the current working directory with the name you chose. <strong>For this article, we will simply refer to the folder as API for clarity.</strong></p>
<p>Once the project has been created, youll want to go into your <code>Cargo.toml</code> and make sure it looks like the following:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-toml"><code class="language-toml"><span class=""><span class="token punctuation">[</span><span class="token table class-name">package</span><span class="token punctuation">]</span></span>
<span class=""><span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">"websocket-chat-react-rust"</span> <span class="token comment"># The name here should be whatever you've decided to name your project</span></span>
<span class=""><span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"0.1.0"</span></span>
<span class=""><span class="token key property">edition</span> <span class="token punctuation">=</span> <span class="token string">"2021"</span></span>
<span class=""><span class="token key property">publish</span> <span class="token punctuation">=</span> <span class="token boolean">false</span></span>
<!-- -->
<span class=""><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span></span>
<span class=""><span class="token key property">axum</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"^0.6.2"</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"ws"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class=""><span class="token key property">axum-extra</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"0.4.2"</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"spa"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class=""><span class="token key property">chrono</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"0.4"</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"serde"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class=""><span class="token key property">futures</span> <span class="token punctuation">=</span> <span class="token string">"0.3"</span></span>
<span class=""><span class="token key property">hyper</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"0.14"</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"client"</span><span class="token punctuation">,</span> <span class="token string">"http2"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class=""><span class="token key property">hyper-tls</span> <span class="token punctuation">=</span> <span class="token string">"0.5"</span></span>
<span class=""><span class="token key property">serde</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"1.0"</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"derive"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class=""><span class="token key property">serde_json</span> <span class="token punctuation">=</span> <span class="token string">"1.0"</span></span>
<span class=""><span class="token key property">cyndra-axum</span> <span class="token punctuation">=</span> <span class="token string">"0.55.0"</span></span>
<span class=""><span class="token key property">cyndra-runtime</span> <span class="token punctuation">=</span> <span class="token string">"0.55.0"</span></span>
<span class=""><span class="token key property">sync_wrapper</span> <span class="token punctuation">=</span> <span class="token string">"0.1"</span></span>
<span class=""><span class="token key property">tokio</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"full"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span>
<span class=""><span class="token key property">tower-http</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">version</span> <span class="token punctuation">=</span> <span class="token string">"0.3.5"</span><span class="token punctuation">,</span> <span class="token key property">features</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"fs"</span><span class="token punctuation">,</span> <span class="token string">"auth"</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>This will set up our project with all of the required dependencies for our project so we can simply just import them in as required.</p>
<p>As it would be ideal for us to have our front and back end running at the same time, there is an npm package we can use called concurrently which we can install at the <code>packages.json</code> level like so:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-bash"><code class="language-bash"><span class=""><span class="token function">npm</span> i <span class="token parameter variable">-D</span> concurrently</span>
</code></pre></div></div></div>
<p>Now we can write an npm script to run both our front and back ends in one command! Lets look at what that would look like:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class="">  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"concurrently new \"vite\" \"cyndra run --working-directory API\""</span><span class="token punctuation">,</span></span>
<span class=""><span class="token comment">// ... your other scripts</span></span>
<span class="">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
</code></pre></div></div></div>
<p>Running this npm command while at the packages.json level simply starts up your React app and also launches your Rust project so you can work on both at the same time.</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="getting-started-with-rust"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="websocket-chat-app-js.html#getting-started-with-rust"><div class="w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20"><svg fill="gray" height="12px" viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"></path></svg></div></a></div><span class="cursor-pointer">Getting Started (with Rust)</span></h3>
<p>To get started, lets create all the values we need for the server to work.</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token keyword">type</span> <span class="token type-definition class-name">Users</span> <span class="token operator">=</span> <span class="token class-name">Arc</span><span class="token operator">&lt;</span><span class="token class-name">RwLock</span><span class="token operator">&lt;</span><span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token keyword">usize</span><span class="token punctuation">,</span> <span class="token class-name">UnboundedSender</span><span class="token operator">&lt;</span><span class="token class-name">Message</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span></span>
<span class=""><span class="token keyword">static</span> <span class="token constant">NEXT_USERID</span><span class="token punctuation">:</span> <span class="token namespace">std<span class="token punctuation">::</span>sync<span class="token punctuation">::</span>atomic<span class="token punctuation">::</span></span><span class="token class-name">AtomicUsize</span> <span class="token operator">=</span> <span class="token namespace">std<span class="token punctuation">::</span>sync<span class="token punctuation">::</span>atomic<span class="token punctuation">::</span></span><span class="token class-name">AtomicUsize</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class=""><span class="token attribute attr-name">#[derive(Serialize, Deserialize)]</span></span>
<span class=""><span class="token keyword">struct</span> <span class="token type-definition class-name">Msg</span> <span class="token punctuation">{</span></span>
<span class="">    name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span></span>
<span class="">    uid<span class="token punctuation">:</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token keyword">usize</span><span class="token operator">&gt;</span><span class="token punctuation">,</span></span>
<span class="">    message<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>Lets quickly dissect what these types actually mean. If youd like to read more about what an arc is you can do so <a class="link" href="https://doc.rust-lang.org/std/sync/struct.Arc.html" rel="noreferrer" target="_blank">here</a>, but in short: its a <a class="link" href="https://doc.rust-lang.org/book/ch15-00-smart-pointers.html" rel="noreferrer" target="_blank">smart pointer</a> that can be cloned and holds a value. In this case, were using it to hold a reader-writer lock (RwLock), which is typically used when you want the value inside to be read across multiple threads at the same time, but you want exclusive thread access for write operations (ie, cant mutate the value in any way from another thread). In short: its like having a box of stuff that lets you know whats inside when you look at it, but to change the contents you have to open the box itself (and only one person can open it at a time!).</p>
<p>AtomicUsize is used for user IDs as we will want the value to be shared safely across threads. You can read more about Atomic values <a class="link" href="https://doc.rust-lang.org/std/sync/atomic/" rel="noreferrer" target="_blank">here</a>. We will also want our messages to be able to be serialized and deserialized from JSON - hence, the derive macro provided to us by the <a class="link" href="https://serde.rs/" rel="noreferrer" target="_blank">serde</a> crate.</p>
<p>Lets quickly make up our main function so that we have a working route that we can test with our front end:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token attribute attr-name">#[cyndra_runtime::main]</span></span>
<span class=""><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">axum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">CyndraAxum</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token comment">// set up router with Secrets</span></span>
<span class="">    <span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token function">router</span><span class="token punctuation">(</span>secret<span class="token punctuation">,</span> static_folder<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token class-name">Ok</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class=""><span class="token punctuation">}</span></span>
<!-- -->
<span class=""><span class="token keyword">fn</span> <span class="token function-definition function">router</span><span class="token punctuation">(</span>secret<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> static_folder<span class="token punctuation">:</span> <span class="token class-name">PathBuf</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Router</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token comment">// initialise the Users k/v store and allow the static files to be served</span></span>
<span class="">    <span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token class-name">Users</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token comment">// return a new router with a WebSocket route</span></span>
<span class="">     <span class="token class-name">Router</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"/ws"</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span>ws_handler<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">layer</span><span class="token punctuation">(</span><span class="token class-name">Extension</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>Now at the moment we have our main application loop and a router, but as you may have noticed, <code>ws_handler</code> doesnt actually exist in our code at the moment. This is what we will be writing next, and it can be simply written as so:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token comment">// "impl IntoResponse" means we want our function to return a websocket connection</span></span>
<span class=""><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">ws_handler</span><span class="token punctuation">(</span>ws<span class="token punctuation">:</span> <span class="token class-name">WebSocketUpgrade</span><span class="token punctuation">,</span> <span class="token class-name">Extension</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name">Extension</span><span class="token operator">&lt;</span><span class="token class-name">Users</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">impl</span> <span class="token class-name">IntoResponse</span> <span class="token punctuation">{</span></span>
<span class="">    ws<span class="token punctuation">.</span><span class="token function">on_upgrade</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>socket<span class="token closure-punctuation punctuation">|</span></span> <span class="token function">handle_socket</span><span class="token punctuation">(</span>socket<span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>This function simply receives a connection, upgrades the connection into a WebSocket connection and initiates the socket handling to be able to receive and send messages.</p>
<p>Now lets implement the <code>handle_socket</code> function, as it currently doesnt actually exist:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">handle_socket</span><span class="token punctuation">(</span>stream<span class="token punctuation">:</span> <span class="token class-name">WebSocket</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token class-name">Users</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token comment">// When a new user enters the chat (opens the websocket connection), assign them a user ID</span></span>
<span class="">    <span class="token keyword">let</span> my_id <span class="token operator">=</span> <span class="token constant">NEXT_USERID</span><span class="token punctuation">.</span><span class="token function">fetch_add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token namespace">std<span class="token punctuation">::</span>sync<span class="token punctuation">::</span>atomic<span class="token punctuation">::</span></span><span class="token class-name">Ordering</span><span class="token punctuation">::</span><span class="token class-name">Relaxed</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">    <span class="token comment">// By splitting the websocket into a receiver and sender, we can send and receive at the same time.</span></span>
<span class="">    <span class="token keyword">let</span> <span class="token punctuation">(</span><span class="token keyword">mut</span> sender<span class="token punctuation">,</span> <span class="token keyword">mut</span> receiver<span class="token punctuation">)</span> <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token comment">// Create a new channel for async task management (stored in Users hashmap)</span></span>
<span class="">    <span class="token keyword">let</span> <span class="token punctuation">(</span>tx<span class="token punctuation">,</span> <span class="token keyword">mut</span> rx<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">UnboundedSender</span><span class="token operator">&lt;</span><span class="token class-name">Message</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token class-name">UnboundedReceiver</span><span class="token operator">&lt;</span><span class="token class-name">Message</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token namespace">mpsc<span class="token punctuation">::</span></span><span class="token function">unbounded_channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class=""><span class="token comment">// If a message has been received, send the message (expect on error)</span></span>
<span class="">    <span class="token namespace">tokio<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">move</span> <span class="token punctuation">{</span></span>
<span class="">        <span class="token keyword">while</span> <span class="token keyword">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token operator">=</span> rx<span class="token punctuation">.</span><span class="token function">recv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span> <span class="token punctuation">{</span></span>
<span class="">            sender<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">"Error while sending message"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">        sender<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token comment">// if there's a message and the message is OK, broadcast it along all available open websocket connections</span></span>
<span class="">    <span class="token keyword">while</span> <span class="token keyword">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">Ok</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> receiver<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span> <span class="token punctuation">{</span></span>
<span class="">        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{:?}"</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">    <span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>As you may have noticed in this function, we spawn a thread to await messages and send them back. Well need a method of safely transporting messages across the thread weve created, which is why an Arc with a reader-writer lock is used.</p>
<p>If you use <code>cyndra run</code> to locally run this project and send Hello to the WebSocket connection from a front-end web app, on your terminal with the Rust project deployment should return <code>Some("Hello")</code>, which means weve successfully received a WebSocket message. Now we just need to figure out how were going to send it back!</p>
<p>Lets create a function that will broadcast messages along every connected WebSocket:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">broadcast_msg</span><span class="token punctuation">(</span>msg<span class="token punctuation">:</span> <span class="token class-name">Message</span><span class="token punctuation">,</span> users<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">Users</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class=""><span class="token comment">// "If let" is basically a simple match statement, which is perfect for this use case</span></span>
<span class=""><span class="token comment">// as we want to only match against one condition.</span></span>
<span class="">    <span class="token keyword">if</span> <span class="token keyword">let</span> <span class="token class-name">Message</span><span class="token punctuation">::</span><span class="token class-name">Text</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token operator">=</span> msg <span class="token punctuation">{</span></span>
<span class="">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>_uid<span class="token punctuation">,</span> tx<span class="token punctuation">)</span> <span class="token keyword">in</span> users<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="">            tx<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">Message</span><span class="token punctuation">::</span><span class="token class-name">Text</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">                <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">"Failed to send Message"</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>This function will basically check that the message type matches and if it does, iterate through every single user connection and read it. Nothing too crazy here.</p>
<p>Lets have a look at enriching the results:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token keyword">fn</span> <span class="token function-definition function">enrich_result</span><span class="token punctuation">(</span>result<span class="token punctuation">:</span> <span class="token class-name">Message</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token keyword">usize</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token class-name">Message</span><span class="token punctuation">,</span> <span class="token namespace">serde_json<span class="token punctuation">::</span></span><span class="token class-name">Error</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token keyword">match</span> result <span class="token punctuation">{</span></span>
<span class="">        <span class="token class-name">Message</span><span class="token punctuation">::</span><span class="token class-name">Text</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="">            <span class="token keyword">let</span> <span class="token keyword">mut</span> msg<span class="token punctuation">:</span> <span class="token class-name">Msg</span> <span class="token operator">=</span> <span class="token namespace">serde_json<span class="token punctuation">::</span></span><span class="token function">from_str</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span></span>
<span class="">            msg<span class="token punctuation">.</span>uid <span class="token operator">=</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">            <span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token namespace">serde_json<span class="token punctuation">::</span></span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span></span>
<span class="">            <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token class-name">Message</span><span class="token punctuation">::</span><span class="token class-name">Text</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">        _ <span class="token operator">=&gt;</span> <span class="token class-name">Ok</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>This function adds the user ID to the incoming message. If the result is not a WebSocket message, return whatever the result was.</p>
<p>Now we will incorporate both of these methods into the respective section in our <code>handle_socket</code> function, like so:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token keyword">while</span> <span class="token keyword">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">Ok</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> receiver<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span> <span class="token punctuation">{</span></span>
<span class="">        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{:?}"</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="">        <span class="token keyword">if</span> <span class="token keyword">let</span> <span class="token class-name">Ok</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">enrich_result</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> my_id<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="">            <span class="token function">broadcast_msg</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token operator">&amp;</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="">        <span class="token punctuation">}</span></span>
<span class="">    <span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>Now if you send a message from your front-end web app to your web server, you should receive a message in your React app from the server with the message, username and user ID! We are finally done building the bare bones of the app, but there are some other things before were finished that you will probably want to consider.</p>
<p>Now while the app is now technically a minimum viable product, theres a couple of other things we need to sort out, like compiling React assets into our Rust project and making sure that we have a way to manually disconnect users if theyre being abusive or breaking the rules of the chat.</p>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="admin-routing"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="websocket-chat-app-js.html#admin-routing"><div class="w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20"><svg fill="gray" height="12px" viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"></path></svg></div></a></div><span class="cursor-pointer">Admin Routing</span></h3>
<p>Before we get started however, lets quickly update our main function so that we can quickly pull in our environment variables and use static assets:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token attribute attr-name">#[cyndra_runtime::main]</span></span>
<span class=""><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">axum</span><span class="token punctuation">(</span></span>
<span class="">    <span class="token attribute attr-name">#[cyndra_runtime::Secrets]</span> secrets<span class="token punctuation">:</span> <span class="token class-name">SecretStore</span><span class="token punctuation">,</span></span>
<span class=""><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">CyndraAxum</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token comment">// We use Secrets.toml to set the BEARER key, just like in a .env file and call it here</span></span>
<span class="">    <span class="token keyword">let</span> secret <span class="token operator">=</span> secrets<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"BEARER"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap_or</span><span class="token punctuation">(</span><span class="token string">"Bear"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token comment">// set up router with Secrets</span></span>
<span class="">    <span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token function">router</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token class-name">Ok</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>Lets dissect our new additions quickly. <code>cyndra_runtime::Secrets</code> allows us to set environmental variables using a Secrets.toml file, much like how youd typically use a .env file to be able to use environment variables locally and in production.</p>
<p>Now that our setup for this section is out of the way, lets cover the admin route first as thatll mean we can make sure our WebSocket service is complete before we compile any assets. Lets make a function that will take a user ID and manually disconnect them using the disconnect function we already have:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">disconnect_user</span><span class="token punctuation">(</span></span>
<span class="">    <span class="token class-name">Path</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name">Path</span><span class="token operator">&lt;</span><span class="token keyword">usize</span><span class="token operator">&gt;</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token class-name">Extension</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name">Extension</span><span class="token operator">&lt;</span><span class="token class-name">Users</span><span class="token operator">&gt;</span><span class="token punctuation">,</span></span>
<span class=""><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">impl</span> <span class="token class-name">IntoResponse</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token function">disconnect</span><span class="token punctuation">(</span>user_id<span class="token punctuation">,</span> <span class="token operator">&amp;</span>users<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">await</span><span class="token punctuation">;</span></span>
<span class="">    <span class="token string">"Done"</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>Now we can easily set up an admin router within the router function that will allow us to disconnect people manually, given a user ID and an authentication secret which you should write like so:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token comment">// write this somewhere in your router function</span></span>
<span class=""><span class="token comment">// RequireAuthorizationLayer dictates we must send a Bearer auth token to authorise the kick/remove</span></span>
<span class="">    <span class="token keyword">let</span> admin <span class="token operator">=</span> <span class="token class-name">Router</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="">    <span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"/disconnect/:user_id"</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span>disconnect_user<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">    <span class="token punctuation">.</span><span class="token function">layer</span><span class="token punctuation">(</span><span class="token class-name">RequireAuthorizationLayer</span><span class="token punctuation">::</span><span class="token function">bearer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>secret<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</code></pre></div></div></div>
<p>Now that we have this route, we can actually embed it into our main router using the nest method. This method is actually great for us, as it means we can put together several different groups of similar routes and functions to create one router. Lets have a look at what this should look like on the router were returning:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class="">     <span class="token class-name">Router</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"/ws"</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span>ws_handler<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">nest</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">,</span> admin<span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">layer</span><span class="token punctuation">(</span><span class="token class-name">Extension</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
</code></pre></div></div></div>
<p>As you can see here, our admin route should actually be <code>&lt;base-url&gt;/ws/admin</code>, as dictated by the nest function. Now if we want to disconnect a user with the user ID of 5 manually for example, we would have to make a post request to <code>&lt;base-url&gt;/ws/admin/disconnect/5</code> with a Bearer authentication header - as an example, if youve set your secret as keyboard cat, you need to enter an authentication header of <code>Bearer keyboard cat</code>.</p>
<p>At this point, your router function should look like this (if not, you have likely missed a step somewhere):</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class="">    <span class="token comment">// initialise the Users k/v store and allow the static files to be served</span></span>
<span class="">    <span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token class-name">Users</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token comment">// make an admin route for kicking users</span></span>
<span class="">    <span class="token keyword">let</span> admin <span class="token operator">=</span> <span class="token class-name">Router</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="">    <span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"/disconnect/:user_id"</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span>disconnect_user<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">    <span class="token punctuation">.</span><span class="token function">layer</span><span class="token punctuation">(</span><span class="token class-name">RequireAuthorizationLayer</span><span class="token punctuation">::</span><span class="token function">bearer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>secret<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token comment">// return a new router and nest the admin route into the websocket route</span></span>
<span class="">     <span class="token class-name">Router</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"/ws"</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span>ws_handler<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">nest</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">,</span> admin<span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">fallback_service</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token class-name">ServeDir</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"assets"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">not_found_service</span><span class="token punctuation">(</span><span class="token class-name">ServeFile</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"assets/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">layer</span><span class="token punctuation">(</span><span class="token class-name">Extension</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="integrating-front-%26-back-endpoints"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="websocket-chat-app-js.html#integrating-front-%26-back-endpoints"><div class="w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20"><svg fill="gray" height="12px" viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"></path></svg></div></a></div><span class="cursor-pointer">Integrating Front &amp; Back Endpoints</span></h3>
<p>Now we can start integrating our front and back end together. Lets set up our npm deploy scripts so that we can build our assets into our Rust folder:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-json"><code class="language-json"><span class=""><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class=""> <span class="token comment">// ... your other package.json scripts</span></span>
<span class="">    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"tsc &amp;&amp; vite build --emptyOutDir"</span><span class="token punctuation">,</span></span>
<span class=""><span class="token comment">// ... your other package.json scripts</span></span>
<span class="">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
</code></pre></div></div></div>
<p>Our build command basically tells npm that we want it to compile all of the Typescript files, and then build the compiled assets.</p>
<p>Now in your <code>vite.config.ts</code> file youll want to have your defineConfig look like so:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-ts"><code class="language-ts"><span class=""><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="">  base<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span></span>
<span class="">  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">react</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="">  build<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="">    outDir<span class="token operator">:</span> <span class="token string">'API/static'</span><span class="token punctuation">,</span></span>
<span class="">    emptyOutDir<span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="">  <span class="token punctuation">}</span></span>
<span class=""><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
</code></pre></div></div></div>
<p>This tells npm exactly where we want our compiled assets to be built and whether or not we should empty the target directory before building assets (outside of the regular directory, this is normally false by default so we need to set it to true).</p>
<p>Now if we run <code>npm run build</code>, it should build our assets in the API folder in a subdirectory called <code>static</code>. We can serve this directory to our users on the Rust project, which is great for us as it means we can simply use one deployment instead of having to manage two different deployments. <code>cyndra_static_folder::StaticFolder</code> has a default value of static, so we dont need to set the folder name manually.</p>
<p>Before we move on, lets re-write the WebSocket URL so that it will dynamically match whatever the URL of our hosted project will be, instead of a fixed string. Lets change our WebSocket connection in the React front-end like so:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-ts"><code class="language-ts"><span class=""><span class="token comment">// Set up the websocket URL.</span></span>
<span class=""><span class="token keyword">const</span> wsUri <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>protocol <span class="token operator">==</span> <span class="token string">"https:"</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"wss://"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">"ws://"</span><span class="token punctuation">)</span> <span class="token operator">+</span></span>
<span class="">  window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>host <span class="token operator">+</span></span>
<span class="">  <span class="token string">"/ws"</span><span class="token punctuation">;</span></span>
<!-- -->
<span class=""><span class="token keyword">const</span> websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>wsUri<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</code></pre></div></div></div>
<p>Now that weve changed the connection URL, our compiled assets in our Rust folder will work on the local Rust run without us having to use our local Vite deployment! However, if we try to run our front end by itself, it wont connect as this connection string relies on using the local Rust project - but you can change the connection string as required.</p>
<p>Now we can update our main function and router together so that the router will use <code>tower_http</code>s <code>ServeDir</code> function for serving static files:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class=""><span class="token attribute attr-name">#[cyndra_runtime::main]</span></span>
<span class=""><span class="token keyword">async</span> <span class="token keyword">fn</span> <span class="token function-definition function">axum</span><span class="token punctuation">(</span></span>
<span class="">    <span class="token attribute attr-name">#[cyndra_runtime::Secrets]</span> secrets<span class="token punctuation">:</span> <span class="token class-name">SecretStore</span><span class="token punctuation">,</span></span>
<span class=""><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">CyndraAxum</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token comment">// We use Secrets.toml to set the BEARER key, just like in a .env file and call it here</span></span>
<span class="">    <span class="token keyword">let</span> secret <span class="token operator">=</span> secrets<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"BEARER"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap_or</span><span class="token punctuation">(</span><span class="token string">"Bear"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token comment">// set up router with Secrets</span></span>
<span class="">    <span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token function">router</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token class-name">Ok</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class=""><span class="token punctuation">}</span></span>
<!-- -->
<span class=""><span class="token keyword">fn</span> <span class="token function-definition function">router</span><span class="token punctuation">(</span>secret<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Router</span> <span class="token punctuation">{</span></span>
<span class="">    <span class="token comment">// initialise the Users k/v store and allow the static files to be served</span></span>
<span class="">    <span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token class-name">Users</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token comment">// make an admin route for kicking users</span></span>
<span class="">    <span class="token keyword">let</span> admin <span class="token operator">=</span> <span class="token class-name">Router</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="">    <span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"/disconnect/:user_id"</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span>disconnect_user<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">    <span class="token punctuation">.</span><span class="token function">layer</span><span class="token punctuation">(</span><span class="token class-name">RequireAuthorizationLayer</span><span class="token punctuation">::</span><span class="token function">bearer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>secret<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<!-- -->
<span class="">    <span class="token comment">// return a new router and nest the admin route into the websocket route</span></span>
<span class="">     <span class="token class-name">Router</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"/ws"</span><span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span>ws_handler<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">nest</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">,</span> admin<span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">fallback_service</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token class-name">ServeDir</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"assets"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">not_found_service</span><span class="token punctuation">(</span><span class="token class-name">ServeFile</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"assets/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="">        <span class="token punctuation">.</span><span class="token function">layer</span><span class="token punctuation">(</span><span class="token class-name">Extension</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class=""><span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<h3 class="flex whitespace-pre-wrap group font-semibold" id="finishing-up"><div class="absolute"><a aria-label="Navigate to header" class="-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100" href="websocket-chat-app-js.html#finishing-up"><div class="w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20"><svg fill="gray" height="12px" viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"></path></svg></div></a></div><span class="cursor-pointer">Finishing Up</span></h3>
<p>Now were pretty much done and ready to deploy! We can call our deploy script at the <code>packages.json</code> level by setting up an npm script like below:</p>
<div class="code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-50 bg-[#0F1117] dark:bg-codeblock ring-1 ring-transparent dark:ring-gray-800/50 codeblock-dark"><div class="min-w-full relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out" data-component-part="code-block-root" style="font-variant-ligatures:none;height:auto"><div class="overflow-x-auto h-full p-5 [&amp;&gt;pre&gt;code]:pr-[3rem] [&amp;&gt;pre&gt;code&gt;span.line-highlight]:min-w-[calc(100%+3rem)] overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-white/20 dark:scrollbar-thumb-white/20 hover:scrollbar-thumb-white/25 dark:hover:scrollbar-thumb-white/25 active:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25"><pre class="language-rust"><code class="language-rust"><span class="">  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="">  <span class="token comment">// ...your other scripts</span></span>
<span class="">    <span class="token string">"dev"</span><span class="token punctuation">:</span> <span class="token string">"concurrently new \"vite\" \"cyndra run --working-directory ./API\""</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"tsc &amp;&amp; vite build --emptyOutDir"</span><span class="token punctuation">,</span></span>
<span class="">    <span class="token string">"deploy"</span><span class="token punctuation">:</span> <span class="token string">"npm run build &amp;&amp; cyndra deploy --working-directory ./API"</span></span>
<span class="">  <span class="token comment">// ...your other scripts</span></span>
<span class="">  <span class="token punctuation">}</span></span>
</code></pre></div></div></div>
<p>Now if we run <code>npm run deploy</code>, it should build all of our assets into the required folder and then attempt to deploy to Cyndra - assuming there are no issues, it should deploy successfully!</p>
<p>If you would like to change the name of your folder while keeping the deployment name the same, you can do so by simply creating a file called <code>Cyndra.toml</code> at the <code>Cargo.toml</code> level and creating a variable for the <code>name</code> key like in a .env file (so for example if I wanted to call my project <code>keyboard-cat</code>, Id type name=keyboard-cat into the file).</p>
<p>If you need to check the status of your Cyndra project at any time, you can do so by using <code>cyndra status</code> at the <code>Cargo.toml</code> file, or you can add the <code>--name</code> flag followed by the projects name to use it from any directory.</p></div><div class="leading-6 mt-14"><div class="feedback-toolbar pb-16 w-full"><div class="flex flex-col gap-y-4 xl:flex-col xl:gap-6 min-[1400px]:flex-row md:flex-row md:justify-end"><div class="flex flex-row gap-5 items-center grow justify-between md:justify-start xl:justify-between min-[1400px]:justify-start"><p class="text-sm text-gray-600 dark:text-gray-400">Was this page helpful?</p><div class="flex flex-row gap-3 items-center"><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-500 hover:dark:border-gray-500"><svg class="fill-current" height="16" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M10.1187 1.08741C8.925 0.746789 7.67813 1.43741 7.3375 2.63116L7.15938 3.25616C7.04375 3.66241 6.83438 4.03741 6.55 4.34991L4.94688 6.11241C4.66875 6.41866 4.69062 6.89366 4.99687 7.17179C5.30312 7.44991 5.77813 7.42804 6.05625 7.12179L7.65938 5.35929C8.1 4.87491 8.42188 4.29679 8.6 3.66866L8.77812 3.04366C8.89062 2.64679 9.30625 2.41554 9.70625 2.52804C10.1063 2.64054 10.3344 3.05616 10.2219 3.45616L10.0437 4.08116C9.86562 4.70304 9.58437 5.29054 9.2125 5.81554C9.05 6.04366 9.03125 6.34366 9.15938 6.59366C9.2875 6.84366 9.54375 6.99991 9.825 6.99991H14C14.275 6.99991 14.5 7.22491 14.5 7.49991C14.5 7.71241 14.3656 7.89679 14.175 7.96866C13.9438 8.05616 13.7688 8.24992 13.7094 8.49054C13.65 8.73117 13.7125 8.98429 13.875 9.16866C13.9531 9.25616 14 9.37179 14 9.49991C14 9.74366 13.825 9.94679 13.5938 9.99054C13.3375 10.0405 13.1219 10.2187 13.0312 10.4624C12.9406 10.7062 12.9813 10.9843 13.1438 11.1905C13.2094 11.2749 13.25 11.3812 13.25 11.4999C13.25 11.7093 13.1187 11.8937 12.9312 11.9655C12.5719 12.1062 12.3781 12.4937 12.4812 12.8655C12.4937 12.9062 12.5 12.953 12.5 12.9999C12.5 13.2749 12.275 13.4999 12 13.4999H8.95312C8.55937 13.4999 8.17188 13.3843 7.84375 13.1655L5.91563 11.8812C5.57188 11.6499 5.10625 11.7437 4.875 12.0905C4.64375 12.4374 4.7375 12.8999 5.08437 13.1312L7.0125 14.4155C7.5875 14.7999 8.2625 15.003 8.95312 15.003H12C13.0844 15.003 13.9656 14.1405 14 13.0655C14.4563 12.6999 14.75 12.1374 14.75 11.503C14.75 11.3624 14.7344 11.228 14.7094 11.0968C15.1906 10.7312 15.5 10.153 15.5 9.50304C15.5 9.29991 15.4688 9.10304 15.4125 8.91866C15.775 8.55304 16 8.05304 16 7.49991C16 6.39679 15.1063 5.49991 14 5.49991H11.1156C11.2625 5.17491 11.3875 4.83741 11.4844 4.49366L11.6625 3.86866C12.0031 2.67491 11.3125 1.42804 10.1187 1.08741ZM1 5.99991C0.446875 5.99991 0 6.44679 0 6.99991V13.9999C0 14.553 0.446875 14.9999 1 14.9999H3C3.55313 14.9999 4 14.553 4 13.9999V6.99991C4 6.44679 3.55313 5.99991 3 5.99991H1Z"></path></svg><small class="text-sm font-normal leading-4">Yes</small></button><button class="px-3.5 py-2 flex flex-row gap-3 items-center border-standard rounded-xl text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-white/50 dark:bg-codeblock/50 hover:border-gray-500 hover:dark:border-gray-500"><svg class="fill-current" height="16" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M10.1187 14.9124C8.925 15.253 7.67813 14.5624 7.3375 13.3687L7.15938 12.7437C7.04375 12.3374 6.83438 11.9624 6.55 11.6499L4.94688 9.8874C4.66875 9.58115 4.69062 9.10615 4.99687 8.82803C5.30312 8.5499 5.77813 8.57178 6.05625 8.87803L7.65938 10.6405C8.1 11.1249 8.42188 11.703 8.6 12.3312L8.77812 12.9562C8.89062 13.353 9.30625 13.5843 9.70625 13.4718C10.1063 13.3593 10.3344 12.9437 10.2219 12.5437L10.0437 11.9187C9.86562 11.2968 9.58437 10.7093 9.2125 10.1843C9.05 9.95615 9.03125 9.65615 9.15938 9.40615C9.2875 9.15615 9.54375 8.9999 9.825 8.9999H14C14.275 8.9999 14.5 8.7749 14.5 8.4999C14.5 8.2874 14.3656 8.10303 14.175 8.03115C13.9438 7.94365 13.7688 7.7499 13.7094 7.50928C13.65 7.26865 13.7125 7.01553 13.875 6.83115C13.9531 6.74365 14 6.62803 14 6.4999C14 6.25615 13.825 6.05303 13.5938 6.00928C13.3375 5.95928 13.1219 5.78115 13.0312 5.53428C12.9406 5.2874 12.9813 5.0124 13.1438 4.80615C13.2094 4.72178 13.25 4.61553 13.25 4.49678C13.25 4.2874 13.1187 4.10303 12.9312 4.03115C12.5719 3.89053 12.3781 3.50303 12.4812 3.13115C12.4937 3.09053 12.5 3.04365 12.5 2.99678C12.5 2.72178 12.275 2.49678 12 2.49678H8.95312C8.55937 2.49678 8.17188 2.6124 7.84375 2.83115L5.91563 4.11553C5.57188 4.34678 5.10625 4.25303 4.875 3.90615C4.64375 3.55928 4.7375 3.09678 5.08437 2.86553L7.0125 1.58115C7.5875 1.19678 8.2625 0.993652 8.95312 0.993652H12C13.0844 0.993652 13.9656 1.85615 14 2.93115C14.4563 3.29678 14.75 3.85928 14.75 4.49365C14.75 4.63428 14.7344 4.76865 14.7094 4.8999C15.1906 5.26553 15.5 5.84365 15.5 6.49365C15.5 6.69678 15.4688 6.89365 15.4125 7.07803C15.775 7.44678 16 7.94678 16 8.4999C16 9.60303 15.1063 10.4999 14 10.4999H11.1156C11.2625 10.8249 11.3875 11.1624 11.4844 11.5062L11.6625 12.1312C12.0031 13.3249 11.3125 14.5718 10.1187 14.9124ZM1 11.9999C0.446875 11.9999 0 11.553 0 10.9999V3.9999C0 3.44678 0.446875 2.9999 1 2.9999H3C3.55313 2.9999 4 3.44678 4 3.9999V10.9999C4 11.553 3.55313 11.9999 3 11.9999H1Z"></path></svg><small class="text-sm font-normal leading-4">No</small></button></div></div><div class="flex flex-row gap-3 justify-end"></div></div></div><div class="mb-12 px-0.5 flex items-center text-sm font-semibold text-gray-700 dark:text-gray-200" id="pagination"><a class="flex items-center space-x-3 group" href="send-your-logs-to-datadog.html"><svg class="h-1.5 stroke-gray-400 overflow-visible group-hover:stroke-gray-600 dark:group-hover:stroke-gray-300" viewbox="0 0 3 6"><path d="M3 0L0 3L3 6" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg><span class="group-hover:text-gray-900 dark:group-hover:text-white">Using Cyndra with Datadog</span></a><a class="flex items-center ml-auto space-x-3 group" href="custom-service.html"><span class="group-hover:text-gray-900 dark:group-hover:text-white">Custom Service</span><svg class="rotate-180 h-1.5 stroke-gray-400 overflow-visible group-hover:stroke-gray-600 dark:group-hover:stroke-gray-300" viewbox="0 0 3 6"><path d="M3 0L0 3L3 6" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></a></div></div></div><div class="hidden xl:flex self-start sticky xl:flex-col max-w-[28rem] h-[calc(100vh-9.5rem)] top-[9.5rem]" id="content-side-layout"><div class="z-10 hidden xl:flex pl-10 box-border w-[19rem] max-h-full" id="table-of-contents-layout"><div class="text-gray-600 text-sm leading-6 w-[16.5rem] overflow-y-auto space-y-2 pb-4 -mt-10 pt-10" id="table-of-contents"><div class="text-gray-700 dark:text-gray-300 font-medium flex items-center space-x-2"><svg class="h-3 w-3" fill="none" height="16" stroke="currentColor" stroke-width="2" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.44434 12.6665H13.5554" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.44434 3.3335H13.5554" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.44434 8H7.33323" stroke-linecap="round" stroke-linejoin="round"></path></svg><span>On this page</span></div><ul class="toc" id="table-of-contents-content"><li class="toc-item relative" data-depth="0"><a class="py-1 block hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="websocket-chat-app-js.html#initial-setup">Initial setup</a></li><li class="toc-item relative" data-depth="0"><a class="py-1 block hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="websocket-chat-app-js.html#getting-started">Getting Started</a></li><li class="toc-item relative" data-depth="0"><a class="py-1 block hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="websocket-chat-app-js.html#setting-up-rust">Setting up Rust</a></li><li class="toc-item relative" data-depth="0"><a class="py-1 block hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="websocket-chat-app-js.html#getting-started-with-rust">Getting Started (with Rust)</a></li><li class="toc-item relative" data-depth="0"><a class="py-1 block hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="websocket-chat-app-js.html#admin-routing">Admin Routing</a></li><li class="toc-item relative" data-depth="0"><a class="py-1 block hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="websocket-chat-app-js.html#integrating-front-%26-back-endpoints">Integrating Front &amp; Back Endpoints</a></li><li class="toc-item relative" data-depth="0"><a class="py-1 block hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300" href="websocket-chat-app-js.html#finishing-up">Finishing Up</a></li></ul></div></div></div></div></div></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"mdxSource":{"compiledSource":"\"use strict\";\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    code: \"code\",\n    img: \"img\",\n    p: \"p\",\n    pre: \"pre\",\n    span: \"span\",\n    strong: \"strong\",\n    ..._provideComponents(),\n    ...props.components\n  }, {CodeBlock, Heading} = _components;\n  if (!CodeBlock) _missingMdxReference(\"CodeBlock\", true);\n  if (!Heading) _missingMdxReference(\"Heading\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Source code can be found \", _jsx(_components.a, {\n        href: \"https://github.com/joshua-mo-143/react-websocket-chat-rust\",\n        children: \"here\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"With Rust going from strength to strength within the web development space, it is clear why many developers and big names are starting to take notice. As one example of this, Meta has recently \", _jsx(_components.a, {\n        href: \"https://engineering.fb.com/2022/07/27/developer-tools/programming-languages-endorsed-for-server-side-use-at-meta/#:~:text=Meta's%20primary%20supported%20server%2Dside,new%20addition%20to%20this%20list.\",\n        children: \"recommended Rust\"\n      }), \" as a server-side language. If that wont make people sit up and look, then its hard to know what will - Rusts current offering easily stands on par with most other languages that you could use in a back-end API or microservice, and it will only get better with time.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Lets explore Rust in everyday usage by creating a Typescript React app and combining it with a Rust API that uses WebSockets. While node.js is quick to set up, doesnt require context switching and is easy to use if you already have Javascript knowledge from learning it for writing front-end web apps, you dont need to have a high level of knowledge in Rust to get started writing competent web services that can easily carry out whatever you need.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://github.com/joshua-mo-143/react-websocket-chat-rust/raw/master/Screenshot.png\",\n        alt: \"screenshot\"\n      })\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"initial-setup\",\n      isAtRootLevel: \"true\",\n      children: \"Initial setup\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"We will be using Vite to scaffold our project, as its a quick and fast bundler for starting up your development environment quickly as well as being less opinionated than create-react-app. Lets get into it:\\n\", _jsx(_components.code, {\n        children: \"npm create vite@latest wschat-react-rust --template react-ts\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This should now scaffold a project within a subfolder of your current working directory called \", _jsx(_components.code, {\n        children: \"wschat-react-rust\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For our CSS, well be using TailwindCSS. Tailwind is a utility-first CSS library that allows you to be able to quickly and easily scaffold smaller projects without having to constantly fight media queries by providing utility classes with a mobile-first approach (as a side note: this isnt necessarily better or worse than regular CSS - this is just how I like to do it!). You can find out how to install it here. Its quick, easy, and very easy to configure.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Before we start, make sure you delete all of the HTML from the App menu (make sure you return an empty div!), make sure any unnecessary imports are removed and ensure that Tailwind is in your main CSS file.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Here are the contents of my CSS file if youd like to use my CSS styles exactly:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-css\",\n        children: _jsxs(_components.code, {\n          className: \"language-css\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: \"// index.css\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsxs(_components.span, {\n              className: \"token atrule\",\n              children: [_jsx(_components.span, {\n                className: \"token rule\",\n                children: \"@import\"\n              }), \" \", _jsxs(_components.span, {\n                className: \"token url\",\n                children: [_jsx(_components.span, {\n                  className: \"token function\",\n                  children: \"url\"\n                }), _jsx(_components.span, {\n                  className: \"token punctuation\",\n                  children: \"(\"\n                }), _jsx(_components.span, {\n                  className: \"token string url\",\n                  children: \"'https://fonts.googleapis.com/css2?family=Text+Me+One\u0026display=swap'\"\n                }), _jsx(_components.span, {\n                  className: \"token punctuation\",\n                  children: \")\"\n                })]\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              })]\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsxs(_components.span, {\n              className: \"token atrule\",\n              children: [_jsx(_components.span, {\n                className: \"token rule\",\n                children: \"@tailwind\"\n              }), \" base\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              })]\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsxs(_components.span, {\n              className: \"token atrule\",\n              children: [_jsx(_components.span, {\n                className: \"token rule\",\n                children: \"@tailwind\"\n              }), \" components\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              })]\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsxs(_components.span, {\n              className: \"token atrule\",\n              children: [_jsx(_components.span, {\n                className: \"token rule\",\n                children: \"@tailwind\"\n              }), \" utilities\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              })]\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsxs(_components.span, {\n              className: \"token atrule\",\n              children: [_jsx(_components.span, {\n                className: \"token rule\",\n                children: \"@layer\"\n              }), \" base\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsxs(_components.span, {\n              className: \"token selector\",\n              children: [\"input\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" button\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"box-shadow\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"5\"\n            }), _jsx(_components.span, {\n              className: \"token unit\",\n              children: \"px\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"5\"\n            }), _jsx(_components.span, {\n              className: \"token unit\",\n              children: \"px\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token color\",\n              children: [_jsx(_components.span, {\n                className: \"token function\",\n                children: \"rgba\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0.5\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \")\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsxs(_components.span, {\n              className: \"token selector\",\n              children: [\"input\", _jsx(_components.span, {\n                className: \"token pseudo-class\",\n                children: \":active\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" button\", _jsx(_components.span, {\n                className: \"token pseudo-class\",\n                children: \":active\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"box-shadow\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"3\"\n            }), _jsx(_components.span, {\n              className: \"token unit\",\n              children: \"px\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"3\"\n            }), _jsx(_components.span, {\n              className: \"token unit\",\n              children: \"px\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token color\",\n              children: [_jsx(_components.span, {\n                className: \"token function\",\n                children: \"rgba\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0.5\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \")\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token selector\",\n              children: \"body\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"font-family\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'Text Me One'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'Sans Serif'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"padding\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"0\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"margin\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"0\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"background-color\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"rgb\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token number\",\n              children: \"214\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"211\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"209\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"box-sizing\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" box-border\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"overflow-x\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" hidden\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"getting-started\",\n      isAtRootLevel: \"true\",\n      children: \"Getting Started\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Before we do anything, lets quickly scaffold our page so that we have something that we can look at (well be putting this in the main App component but feel free to put this on a page component):\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// App.tsx\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"import\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token imports\",\n              children: [_jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"React\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"SetStateAction\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"from\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'react'\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"type \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Message\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"name\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" string\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"uid\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" number\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"message\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" string\"]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"function\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"App\"\n              })\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" setMessage\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"React\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"useState\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"string\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"name\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" setName\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"React\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"useState\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"string\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"vis\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" setVis\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"React\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"useState\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"boolean\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token boolean\",\n              children: \"true\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"return\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"      \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"flex flex-row text-gray-100\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'w-full bg-slate-700 flex flex-col pb-5'\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'w-full min-h-screen flex flex-col justify-end gap-4 pb-20'\"\n            }), \" id\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"chatbox\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"mx-8 break-all chat-message bg-slate-600 rounded-xl rounded-xl w-fit inline-block px-5 py-4\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"                \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"p\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Hi\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"!\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Welcome\"\n            }), \" to \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Rustcord\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token property-access\",\n              children: _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"Enjoy\"\n              })\n            }), \" your stay\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"!\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"p\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"              \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"form className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'w-full h-10 fixed bottom-0 flex flex-row justify-center gap-4 mb-5 px-5'\"\n            }), \" onSubmit\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token parameter\",\n              children: \"e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"sendMessage\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"e\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" name\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" setMessage\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"input name\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"message\\\"\"\n            }), \" id\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"messageBox\\\"\"\n            }), \" type\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"text\\\"\"\n            }), \" className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'bg-slate-400 w-full py-2 px-5 focus:outline-0 rounded-tl-xl rounded-bl-xl'\"\n            }), \" value\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"              placeholder\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Enter your message here...\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"              onInput\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token parameter\",\n              children: [_jsx(_components.span, {\n                className: \"token literal-property property\",\n                children: \"e\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"React\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token property-access\",\n                children: _jsx(_components.span, {\n                  className: \"token maybe-class-name\",\n                  children: \"ChangeEvent\"\n                })\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003c\"\n              }), _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"HTMLInputElement\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003e\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"setMessage\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"e\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"target\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"value\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"button id\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"messageBtn\\\"\"\n            }), \" className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'bg-slate-400 px-2 active:translate-y-0.5 active:translate-x-0.5 hover:text-black transition-all rounded-tr-xl rounded-br-xl'\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Send\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"button\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"form\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"      \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If youve already used Typescript, this component should be simple to understand. For the uninitiated however: the only changes that are there at the moment in comparison to a pure JavaScript project is that weve declared a new type (Message) which well be using later on, and weve also had to declare specific types for our state setters as well as \", _jsx(_components.code, {\n        children: \"e.target.value\"\n      }), \". This is important as TypeScript needs to know what type our events are, otherwise itll complain and refuse to compile.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Thats pretty much it for the main component! We need a modal that can get a name, and then we just need to set up WebSocket functionality. Lets create our modal:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// UserModal.tsx\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"import\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token imports\",\n              children: [_jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"React\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"SetStateAction\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"from\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'react'\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"type \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Props\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"vis\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" boolean\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"name\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" string\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"setName\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"React\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"Dispatch\"\n              })\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"SetStateAction\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"string\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"setVis\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"React\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"Dispatch\"\n              })\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"SetStateAction\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"boolean\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\u003e\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-variable function\",\n              children: _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"NamePrompt\"\n              })\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token parameter\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \"vis\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" name\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" setName\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" setVis\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"Props\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-variable function\",\n              children: \"submitName\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token parameter\",\n              children: [_jsx(_components.span, {\n                className: \"token literal-property property\",\n                children: \"e\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"React\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token property-access\",\n                children: _jsx(_components.span, {\n                  className: \"token maybe-class-name\",\n                  children: \"FormEvent\"\n                })\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003c\"\n              }), _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"HTMLFormElement\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003e\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    e\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"preventDefault\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"if\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"name \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"==\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"      \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"return\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"setVis\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token boolean\",\n              children: \"false\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"return\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"vis \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"?\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'z-40 transition-all flex flex-col justify-center items-center h-screen w-screen absolute backdrop-blur-xl'\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"transition-all hidden flex flex-col justify-center items-center h-screen w-screen absolute backdrop-blur-xl\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'z-50 w-4/5 h-3/5 lg:w-2/5 lg:h-2/5 bg-slate-300 flex flex-col justify-center items-center rounded-xl shadow-md'\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"form className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'flex gap-4 flex-col items-center'\"\n            }), \" onSubmit\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token parameter\",\n              children: \"e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"submitName\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"e\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"p className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'text-lg lg:text-2xl'\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Hi\"\n            }), \" there\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"!\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"What\"\n            }), \"'s your name\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"?\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"p\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"input type\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"text\\\"\"\n            }), \" className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'px-5 py-2 rounded-xl required'\"\n            }), \" value\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"name\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" onInput\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token parameter\",\n              children: [_jsx(_components.span, {\n                className: \"token literal-property property\",\n                children: \"e\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \":\"\n              }), _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"React\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token property-access\",\n                children: _jsx(_components.span, {\n                  className: \"token maybe-class-name\",\n                  children: \"ChangeEvent\"\n                })\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003c\"\n              }), _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"HTMLInputElement\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003e\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"setName\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"e\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"target\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"value\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"button type\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"submit\\\"\"\n            }), \" className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'text-gray-100 bg-slate-500 px-5 py-2 rounded-xl active:translate-y-0.5 active:translate-x-0.5 hover:bg-slate-400 transition-all'\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Submit\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"button\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"form\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"export\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"default\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"NamePrompt\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When we initially load up our webpage, we want this modal to appear before the user enters the chatroom as we need the user to set a name, which means we should make it so that the modal is initially visible, but once the user has confirmed a name (and is in the chat), we should hide the modal. Like before, the only real difference here in comparison to Javascript is weve declared types for our props as Typescript needs to know what to parse them as - otherwise, it wont compile.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now we can simply proceed to import the modal into our page component like so (dont forget to pass props and use React fragments if required!):\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// App.tsx\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"NamePrompt\"\n            }), \" vis\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"vis\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" name\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"name\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" setName\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"setName\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" setVis\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"setVis\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that the main design of the app is done, lets think about how we can implement a WebSocket connection. To start with, we can open a WebSocket connection at a URL by simply writing the following:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// App.tsx\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" websocket \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"new\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"WebSocket\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"ws://localhost:8000/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This opens a WebSocket connection at \", _jsx(_components.code, {\n        children: \"localhost:8000/ws\"\n      }), \". Not particularly useful at the moment because we currently dont have anything we can connect it to, but well need this for testing later on.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that weve opened a WebSocket connection, we can add a method for when the connection opens, when it closes, and when we receive a message - like so:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// App.tsx\"\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// On connection open, write \\\"Connected\\\" to the console\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"websocket\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method-variable function-variable method function property-access\",\n              children: \"onopen\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"      \", _jsx(_components.span, {\n              className: \"token console class-name\",\n              children: \"console\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"log\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Connected\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// On connection close, write \\\"Disconnected\\\" to the console\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"websocket\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method-variable function-variable method function property-access\",\n              children: \"onclose\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token console class-name\",\n              children: \"console\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"log\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Disconnected\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// On receiving a message from the server, write the WebSocket message to the console\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"websocket\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method-variable function-variable method function property-access\",\n              children: \"onmessage\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token parameter\",\n              children: \"ev\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" message \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token known-class-name class-name\",\n              children: \"JSON\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"parse\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ev\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"data\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"create_message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Although weve told our program that we want to create a message entry when we receive a message, we dont have a \", _jsx(_components.code, {\n        children: \"create_message\"\n      }), \" function at the moment. This function will simply consist of creating a new HTML element, appending some classes and creating the text that will go inside the container div (and appending it to the container), and then appending our message itself to the chatbox as well as scrolling down to the bottom.\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// App.tsx (put this outside of the component)\"\n            })\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// store the message classes as an array by simply splitting the string of classes by whitespace\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" message_classes \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"mx-8 break-all chat-message bg-slate-600 rounded-xl w-fit max-w-screen rounded-xl px-5 py-4\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"split\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\" \\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" username_css_classes \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"text-gray-200 text-sm\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"split\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\" \\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// create message div and append it to the chatbox\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-variable function\",\n              children: \"create_message\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token parameter\",\n              children: [_jsx(_components.span, {\n                className: \"token literal-property property\",\n                children: \"data\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"Message\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" messageContainer \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"document\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"createElement\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'div'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// add an array of classes using the spread operator here\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  messageContainer\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"classList\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"add\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token spread operator\",\n              children: \"...\"\n            }), \"message_classes\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" chatbox \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"document\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"querySelector\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'#chatbox'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" username \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"document\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"createElement\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'span'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  username\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"classList\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"add\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token spread operator\",\n              children: \"...\"\n            }), \"username_css_classes\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  username\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"innerText\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token template-string\",\n              children: [_jsx(_components.span, {\n                className: \"token template-punctuation string\",\n                children: \"`\"\n              }), _jsxs(_components.span, {\n                className: \"token interpolation\",\n                children: [_jsx(_components.span, {\n                  className: \"token interpolation-punctuation punctuation\",\n                  children: \"${\"\n                }), \"data\", _jsx(_components.span, {\n                  className: \"token punctuation\",\n                  children: \".\"\n                }), _jsx(_components.span, {\n                  className: \"token property-access\",\n                  children: \"name\"\n                }), _jsx(_components.span, {\n                  className: \"token interpolation-punctuation punctuation\",\n                  children: \"}\"\n                })]\n              }), _jsx(_components.span, {\n                className: \"token template-punctuation string\",\n                children: \"`\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  messageContainer\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"append\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"username\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" message \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"document\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"createElement\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'p'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"innerText\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token template-string\",\n              children: [_jsx(_components.span, {\n                className: \"token template-punctuation string\",\n                children: \"`\"\n              }), _jsxs(_components.span, {\n                className: \"token interpolation\",\n                children: [_jsx(_components.span, {\n                  className: \"token interpolation-punctuation punctuation\",\n                  children: \"${\"\n                }), \"data\", _jsx(_components.span, {\n                  className: \"token punctuation\",\n                  children: \".\"\n                }), _jsx(_components.span, {\n                  className: \"token property-access\",\n                  children: \"message\"\n                }), _jsx(_components.span, {\n                  className: \"token interpolation-punctuation punctuation\",\n                  children: \"}\"\n                })]\n              }), _jsx(_components.span, {\n                className: \"token template-punctuation string\",\n                children: \"`\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  messageContainer\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"append\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  chatbox\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"?.\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"append\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"messageContainer\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"window\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"scrollTo\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token number\",\n              children: \"0\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"document\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"body\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"scrollHeight\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now our front end is pretty much done!\"\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"setting-up-rust\",\n      isAtRootLevel: \"true\",\n      children: \"Setting up Rust\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Getting started with Rust is very easy. You can install it on Linux or WSL (Windows Subsystems for Linux) by using the following command:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token function\",\n              children: \"curl\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token parameter variable\",\n              children: \"--proto\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'=https'\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token parameter variable\",\n              children: \"--tlsv1.2\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token parameter variable\",\n              children: \"-sSf\"\n            }), \" https://sh.rustup.rs \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"|\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"sh\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If youre on Windows and dont have WSL, you can find the install page for Rust \", _jsx(_components.a, {\n        href: \"https://www.rust-lang.org/learn/get-started\",\n        children: \"here\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"However you install it, youll also get Rusts package manager called Cargo, which is like NPM for Rust. Cargo allows you to install Rusts packages which are called crates.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For the back end part, because well be serving the web server through Cyndra, we will need to install their CLI which we can do with the following command:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token function\",\n              children: \"cargo\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"install\"\n            }), \" cargo-cyndra\"]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can also use \", _jsx(_components.a, {\n        href: \"https://github.com/cargo-bins/cargo-binstall\",\n        children: _jsx(_components.code, {\n          children: \"cargo-binstall\"\n        })\n      }), \" to install cargo-cyndra:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token function\",\n              children: \"cargo\"\n            }), \" binstall cargo-cyndra\"]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The installation may take a while depending on your Internet connection, so feel free to grab a drink while you wait. You will also want to log onto their website here through GitHub and make sure you have your API key as you will need to log in on the CLI with your key before you can make any projects.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Once the installation is done, you can start a Cyndra project with the following command below (run this in your React project at the packages.json level):\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [\"cyndra init \", _jsx(_components.span, {\n              className: \"token parameter variable\",\n              children: \"--template\"\n            }), \" axum\"]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This will prompt you to input a project name - once youve inputted a project name, this will scaffold a project for you that uses Axum, which is a Rust web framework that is easy to build on with simple syntax. The project will be built in a folder within the current working directory with the name you chose. \", _jsx(_components.strong, {\n        children: \"For this article, we will simply refer to the folder as API for clarity.\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Once the project has been created, youll want to go into your \", _jsx(_components.code, {\n        children: \"Cargo.toml\"\n      }), \" and make sure it looks like the following:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-toml\",\n        children: _jsxs(_components.code, {\n          className: \"language-toml\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token table class-name\",\n              children: \"package\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"name\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"websocket-chat-react-rust\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"# The name here should be whatever you've decided to name your project\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.1.0\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"edition\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"2021\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"publish\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token boolean\",\n              children: \"false\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token table class-name\",\n              children: \"dependencies\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"axum\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"^0.6.2\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"axum-extra\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.4.2\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"spa\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"chrono\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.4\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"serde\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"futures\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.3\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"hyper\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.14\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"client\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"http2\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"hyper-tls\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.5\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"serde\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"1.0\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"derive\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"serde_json\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"1.0\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"cyndra-axum\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.55.0\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"cyndra-runtime\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.55.0\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"sync_wrapper\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.1\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"tokio\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"1\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"full\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"tower-http\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.3.5\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"fs\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"auth\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This will set up our project with all of the required dependencies for our project so we can simply just import them in as required.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"As it would be ideal for us to have our front and back end running at the same time, there is an npm package we can use called concurrently which we can install at the \", _jsx(_components.code, {\n        children: \"packages.json\"\n      }), \" level like so:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token function\",\n              children: \"npm\"\n            }), \" i \", _jsx(_components.span, {\n              className: \"token parameter variable\",\n              children: \"-D\"\n            }), \" concurrently\"]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now we can write an npm script to run both our front and back ends in one command! Lets look at what that would look like:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-json\",\n        children: _jsxs(_components.code, {\n          className: \"language-json\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"\\\"scripts\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"\\\"dev\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"concurrently new \\\\\\\"vite\\\\\\\" \\\\\\\"cyndra run --working-directory API\\\\\\\"\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ... your other scripts\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Running this npm command while at the packages.json level simply starts up your React app and also launches your Rust project so you can work on both at the same time.\"\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"getting-started-with-rust\",\n      isAtRootLevel: \"true\",\n      children: \"Getting Started (with Rust)\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"To get started, lets create all the values we need for the server to work.\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"type\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token type-definition class-name\",\n              children: \"Users\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Arc\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"RwLock\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"HashMap\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"usize\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"UnboundedSender\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"static\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"NEXT_USERID\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"std\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"sync\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"atomic\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"AtomicUsize\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"std\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"sync\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"atomic\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"AtomicUsize\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[derive(Serialize, Deserialize)]\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"struct\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token type-definition class-name\",\n              children: \"Msg\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    name\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"String\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    uid\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Option\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"usize\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"String\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Lets quickly dissect what these types actually mean. If youd like to read more about what an arc is you can do so \", _jsx(_components.a, {\n        href: \"https://doc.rust-lang.org/std/sync/struct.Arc.html\",\n        children: \"here\"\n      }), \", but in short: its a \", _jsx(_components.a, {\n        href: \"https://doc.rust-lang.org/book/ch15-00-smart-pointers.html\",\n        children: \"smart pointer\"\n      }), \" that can be cloned and holds a value. In this case, were using it to hold a reader-writer lock (RwLock), which is typically used when you want the value inside to be read across multiple threads at the same time, but you want exclusive thread access for write operations (ie, cant mutate the value in any way from another thread). In short: its like having a box of stuff that lets you know whats inside when you look at it, but to change the contents you have to open the box itself (and only one person can open it at a time!).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"AtomicUsize is used for user IDs as we will want the value to be shared safely across threads. You can read more about Atomic values \", _jsx(_components.a, {\n        href: \"https://doc.rust-lang.org/std/sync/atomic/\",\n        children: \"here\"\n      }), \". We will also want our messages to be able to be serialized and deserialized from JSON - hence, the derive macro provided to us by the \", _jsx(_components.a, {\n        href: \"https://serde.rs/\",\n        children: \"serde\"\n      }), \" crate.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Lets quickly make up our main function so that we have a working route that we can test with our front end:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[cyndra_runtime::main]\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"axum\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"CyndraAxum\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// set up router with Secrets\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" router \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" static_folder\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"router\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"into\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"String\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" static_folder\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"PathBuf\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// initialise the Users k/v store and allow the static files to be served\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" users \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"default\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// return a new router with a WebSocket route\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"     \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ws_handler\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now at the moment we have our main application loop and a router, but as you may have noticed, \", _jsx(_components.code, {\n        children: \"ws_handler\"\n      }), \" doesnt actually exist in our code at the moment. This is what we will be writing next, and it can be simply written as so:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// \\\"impl IntoResponse\\\" means we want our function to return a websocket connection\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"ws_handler\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ws\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"WebSocketUpgrade\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"state\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"impl\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"IntoResponse\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    ws\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"on_upgrade\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token closure-params\",\n              children: [_jsx(_components.span, {\n                className: \"token closure-punctuation punctuation\",\n                children: \"|\"\n              }), \"socket\", _jsx(_components.span, {\n                className: \"token closure-punctuation punctuation\",\n                children: \"|\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"handle_socket\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"socket\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" state\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This function simply receives a connection, upgrades the connection into a WebSocket connection and initiates the socket handling to be able to receive and send messages.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now lets implement the \", _jsx(_components.code, {\n        children: \"handle_socket\"\n      }), \" function, as it currently doesnt actually exist:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"handle_socket\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"stream\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"WebSocket\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" state\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// When a new user enters the chat (opens the websocket connection), assign them a user ID\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" my_id \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"NEXT_USERID\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"fetch_add\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"std\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"sync\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"atomic\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ordering\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Relaxed\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// By splitting the websocket into a receiver and sender, we can send and receive at the same time.\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"mut\"\n            }), \" sender\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"mut\"\n            }), \" receiver\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" stream\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"split\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// Create a new channel for async task management (stored in Users hashmap)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"tx\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"mut\"\n            }), \" rx\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"UnboundedSender\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"UnboundedReceiver\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"mpsc\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"unbounded_channel\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// If a message has been received, send the message (expect on error)\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"tokio\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"spawn\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"move\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"while\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Some\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" rx\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"recv\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            sender\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"send\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"expect\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Error while sending message\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        sender\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"close\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"unwrap\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// if there's a message and the message is OK, broadcast it along all available open websocket connections\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"while\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Some\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" receiver\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"next\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token macro property\",\n              children: \"println!\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"{:?}\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"As you may have noticed in this function, we spawn a thread to await messages and send them back. Well need a method of safely transporting messages across the thread weve created, which is why an Arc with a reader-writer lock is used.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you use \", _jsx(_components.code, {\n        children: \"cyndra run\"\n      }), \" to locally run this project and send Hello to the WebSocket connection from a front-end web app, on your terminal with the Rust project deployment should return \", _jsx(_components.code, {\n        children: \"Some(\\\"Hello\\\")\"\n      }), \", which means weve successfully received a WebSocket message. Now we just need to figure out how were going to send it back!\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Lets create a function that will broadcast messages along every connected WebSocket:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"broadcast_msg\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// \\\"If let\\\" is basically a simple match statement, which is perfect for this use case\"\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// as we want to only match against one condition.\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"if\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Text\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" msg \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"for\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"_uid\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" tx\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"in\"\n            }), \" users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"read\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"iter\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            tx\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"send\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Text\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"clone\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"                \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"expect\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Failed to send Message\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This function will basically check that the message type matches and if it does, iterate through every single user connection and read it. Nothing too crazy here.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Lets have a look at enriching the results:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"enrich_result\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"usize\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Result\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"serde_json\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Error\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"match\"\n            }), \" result \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Text\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"mut\"\n            }), \" msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Msg\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"serde_json\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"from_str\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"?\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"uid \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Some\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" msg \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"serde_json\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"to_string\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"?\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Text\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        _ \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This function adds the user ID to the incoming message. If the result is not a WebSocket message, return whatever the result was.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now we will incorporate both of these methods into the respective section in our \", _jsx(_components.code, {\n        children: \"handle_socket\"\n      }), \" function, like so:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"while\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Some\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" receiver\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"next\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token macro property\",\n              children: \"println!\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"{:?}\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"if\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"enrich_result\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" my_id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"broadcast_msg\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"state\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now if you send a message from your front-end web app to your web server, you should receive a message in your React app from the server with the message, username and user ID! We are finally done building the bare bones of the app, but there are some other things before were finished that you will probably want to consider.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now while the app is now technically a minimum viable product, theres a couple of other things we need to sort out, like compiling React assets into our Rust project and making sure that we have a way to manually disconnect users if theyre being abusive or breaking the rules of the chat.\"\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"admin-routing\",\n      isAtRootLevel: \"true\",\n      children: \"Admin Routing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Before we get started however, lets quickly update our main function so that we can quickly pull in our environment variables and use static assets:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[cyndra_runtime::main]\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"axum\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[cyndra_runtime::Secrets]\"\n            }), \" secrets\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"SecretStore\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"CyndraAxum\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// We use Secrets.toml to set the BEARER key, just like in a .env file and call it here\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" secret \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" secrets\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"BEARER\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"unwrap_or\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Bear\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"to_string\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// set up router with Secrets\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" router \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"router\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"into\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Lets dissect our new additions quickly. \", _jsx(_components.code, {\n        children: \"cyndra_runtime::Secrets\"\n      }), \" allows us to set environmental variables using a Secrets.toml file, much like how youd typically use a .env file to be able to use environment variables locally and in production.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that our setup for this section is out of the way, lets cover the admin route first as thatll mean we can make sure our WebSocket service is complete before we compile any assets. Lets make a function that will take a user ID and manually disconnect them using the disconnect function we already have:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"disconnect_user\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Path\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"user_id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Path\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"usize\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"impl\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"IntoResponse\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"disconnect\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"user_id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Done\\\"\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now we can easily set up an admin router within the router function that will allow us to disconnect people manually, given a user ID and an authentication secret which you should write like so:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// write this somewhere in your router function\"\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// RequireAuthorizationLayer dictates we must send a Bearer auth token to authorise the kick/remove\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" admin \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/disconnect/:user_id\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"disconnect_user\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"RequireAuthorizationLayer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"bearer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that we have this route, we can actually embed it into our main router using the nest method. This method is actually great for us, as it means we can put together several different groups of similar routes and functions to create one router. Lets have a look at what this should look like on the router were returning:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [\"     \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ws_handler\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"nest\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/admin\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" admin\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"As you can see here, our admin route should actually be \", _jsx(_components.code, {\n        children: \"\u003cbase-url\u003e/ws/admin\"\n      }), \", as dictated by the nest function. Now if we want to disconnect a user with the user ID of 5 manually for example, we would have to make a post request to \", _jsx(_components.code, {\n        children: \"\u003cbase-url\u003e/ws/admin/disconnect/5\"\n      }), \" with a Bearer authentication header - as an example, if youve set your secret as keyboard cat, you need to enter an authentication header of \", _jsx(_components.code, {\n        children: \"Bearer keyboard cat\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"At this point, your router function should look like this (if not, you have likely missed a step somewhere):\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// initialise the Users k/v store and allow the static files to be served\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" users \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"default\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// make an admin route for kicking users\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" admin \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/disconnect/:user_id\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"disconnect_user\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"RequireAuthorizationLayer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"bearer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// return a new router and nest the admin route into the websocket route\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"     \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ws_handler\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"nest\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/admin\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" admin\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"fallback_service\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"ServeDir\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"assets\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"not_found_service\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"ServeFile\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"assets/index.html\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"integrating-front-%26-back-endpoints\",\n      isAtRootLevel: \"true\",\n      children: \"Integrating Front \u0026 Back Endpoints\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now we can start integrating our front and back end together. Lets set up our npm deploy scripts so that we can build our assets into our Rust folder:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-json\",\n        children: _jsxs(_components.code, {\n          className: \"language-json\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token property\",\n              children: \"\\\"scripts\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\" \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ... your other package.json scripts\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"\\\"build\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"tsc \u0026\u0026 vite build --emptyOutDir\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ... your other package.json scripts\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Our build command basically tells npm that we want it to compile all of the Typescript files, and then build the compiled assets.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now in your \", _jsx(_components.code, {\n        children: \"vite.config.ts\"\n      }), \" file youll want to have your defineConfig look like so:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-ts\",\n        children: _jsxs(_components.code, {\n          className: \"language-ts\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"export\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"default\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"defineConfig\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  base\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"''\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  plugins\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"react\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  build\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    outDir\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'API/static'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    emptyOutDir\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token boolean\",\n              children: \"true\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This tells npm exactly where we want our compiled assets to be built and whether or not we should empty the target directory before building assets (outside of the regular directory, this is normally false by default so we need to set it to true).\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now if we run \", _jsx(_components.code, {\n        children: \"npm run build\"\n      }), \", it should build our assets in the API folder in a subdirectory called \", _jsx(_components.code, {\n        children: \"static\"\n      }), \". We can serve this directory to our users on the Rust project, which is great for us as it means we can simply use one deployment instead of having to manage two different deployments. \", _jsx(_components.code, {\n        children: \"cyndra_static_folder::StaticFolder\"\n      }), \" has a default value of static, so we dont need to set the folder name manually.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Before we move on, lets re-write the WebSocket URL so that it will dynamically match whatever the URL of our hosted project will be, instead of a fixed string. Lets change our WebSocket connection in the React front-end like so:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-ts\",\n        children: _jsxs(_components.code, {\n          className: \"language-ts\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// Set up the websocket URL.\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" wsUri \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"window\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"location\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"protocol \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"==\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"https:\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\u0026\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"wss://\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"||\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"ws://\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  window\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"location\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"host \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" websocket \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"new\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"WebSocket\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"wsUri\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that weve changed the connection URL, our compiled assets in our Rust folder will work on the local Rust run without us having to use our local Vite deployment! However, if we try to run our front end by itself, it wont connect as this connection string relies on using the local Rust project - but you can change the connection string as required.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now we can update our main function and router together so that the router will use \", _jsx(_components.code, {\n        children: \"tower_http\"\n      }), \"s \", _jsx(_components.code, {\n        children: \"ServeDir\"\n      }), \" function for serving static files:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[cyndra_runtime::main]\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"axum\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[cyndra_runtime::Secrets]\"\n            }), \" secrets\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"SecretStore\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"CyndraAxum\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// We use Secrets.toml to set the BEARER key, just like in a .env file and call it here\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" secret \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" secrets\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"BEARER\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"unwrap_or\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Bear\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"to_string\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// set up router with Secrets\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" router \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"router\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"into\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"String\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// initialise the Users k/v store and allow the static files to be served\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" users \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"default\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// make an admin route for kicking users\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" admin \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/disconnect/:user_id\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"disconnect_user\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"RequireAuthorizationLayer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"bearer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// return a new router and nest the admin route into the websocket route\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"     \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ws_handler\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"nest\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/admin\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" admin\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"fallback_service\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"ServeDir\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"assets\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"not_found_service\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"ServeFile\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"assets/index.html\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"finishing-up\",\n      isAtRootLevel: \"true\",\n      children: \"Finishing Up\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now were pretty much done and ready to deploy! We can call our deploy script at the \", _jsx(_components.code, {\n        children: \"packages.json\"\n      }), \" level by setting up an npm script like below:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"scripts\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ...your other scripts\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"dev\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"concurrently new \\\\\\\"vite\\\\\\\" \\\\\\\"cyndra run --working-directory ./API\\\\\\\"\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"build\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"tsc \u0026\u0026 vite build --emptyOutDir\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"deploy\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"npm run build \u0026\u0026 cyndra deploy --working-directory ./API\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ...your other scripts\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now if we run \", _jsx(_components.code, {\n        children: \"npm run deploy\"\n      }), \", it should build all of our assets into the required folder and then attempt to deploy to Cyndra - assuming there are no issues, it should deploy successfully!\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you would like to change the name of your folder while keeping the deployment name the same, you can do so by simply creating a file called \", _jsx(_components.code, {\n        children: \"Cyndra.toml\"\n      }), \" at the \", _jsx(_components.code, {\n        children: \"Cargo.toml\"\n      }), \" level and creating a variable for the \", _jsx(_components.code, {\n        children: \"name\"\n      }), \" key like in a .env file (so for example if I wanted to call my project \", _jsx(_components.code, {\n        children: \"keyboard-cat\"\n      }), \", Id type name=keyboard-cat into the file).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you need to check the status of your Cyndra project at any time, you can do so by using \", _jsx(_components.code, {\n        children: \"cyndra status\"\n      }), \" at the \", _jsx(_components.code, {\n        children: \"Cargo.toml\"\n      }), \" file, or you can add the \", _jsx(_components.code, {\n        children: \"--name\"\n      }), \" flag followed by the projects name to use it from any directory.\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{"config":{"theme":"mint","$schema":"https://mintlify.com/docs.json","name":"Cyndra Docs","description":"The Cyndra platform documentation","colors":{"primary":"#000","light":"#f91","dark":"#f91"},"logo":{"light":"/images/logo.png","dark":"/images/logo.png","href":"https://docs.cyndra.dev/"},"favicon":"/favicon.png","background":{"decoration":"windows","color":{"light":"#fcf0d0","dark":"#0b0a00"}},"navbar":{"links":[{"label":"Support","href":"https://docs.cyndra.dev/support/support"}],"primary":{"type":"button","label":"Log In","href":"https://console.cyndra.dev/"}},"navigation":{"global":{"anchors":[{"anchor":"GitHub","icon":"github","href":"https://github.com/cyndra-hq/cyndra"},{"anchor":"Community","icon":"discord","href":"https://discord.gg/cyndra"},{"anchor":"Releases and Changelog","icon":"rust","href":"https://github.com/cyndra-hq/cyndra/releases"}]},"tabs":[{"tab":"Documentation","groups":[{"group":"Getting Started","pages":["/welcome/introduction.html", "/getting-started/installation.html", "/getting-started/quick-start.html", "/migration/guide.html"]},{"group":"Cyndra","pages":["/docs/projects.html", "/docs/project-configuration.html", "/docs/local-run.html", "/docs/files.html", "/docs/builds.html", "/docs/deployment-environment.html", "/docs/logs.html", "/docs/domain-names.html", "group", "Telemetry", "icon", "telescope", "pages", "/docs/telemetry/overview.html", "/docs/telemetry/getting-started.html", "/docs/telemetry/betterstack.html", "/docs/telemetry/custom-metrics.html"]},"docs/account","docs/teams"]},{"group":"Resources","pages":["/resources/resources.html", "/resources/cyndra-secrets.html", "group", "Databases", "icon", "database", "pages", "/resources/cyndra-shared-db.html"]}]},{"group":"Integrations","pages":["group", "Databases", "icon", "database", "pages", "/integrations/cyndra-turso.html", "/integrations/cyndra-qdrant.html", "/integrations/cyndra-opendal.html"]},"integrations/cyndra-openai","integrations/custom-resources","integrations/ci-cd","integrations/mcp-server"]},{"group":"Guides","pages":["/guides/cli.html", "/guides/upgrade.html", "/guides/migrate-shared-postgres.html", "group", "Platform Update", "icon", "layer-group", "pages", "/platform-update/platform-update.html", "/platform-update/migration.html"]}]},{"group":"Pricing","pages":["/pricing/overview.html", "/pricing/billing.html", "/pricing/scaling.html", "/pricing/upgrading.html", "/pricing/faq.html"]},{"group":"Support","pages":["/support/support.html", "/support/faq.html", "/support/troubleshooting.html"]},{"group":"Community","pages":["/community/get-involved.html", "/community/contribute.html", "/community/open-source.html"]}]},{"tab":"Examples","groups":[{"group":"Examples","pages":["/examples/overview.html", "group", "Axum", "pages", "/examples/axum.html", "/examples/axum-postgres.html", "/examples/axum-static-files.html", "/examples/axum-websockets.html", "/examples/axum-jwt-authentication.html"]},{"group":"Actix Web","pages":["/examples/actix.html", "/examples/actix-postgres.html", "/examples/actix-static-files.html", "/examples/actix-websocket-actorless.html", "/examples/actix-cookie-authentication.html"]},{"group":"Rocket","pages":["/examples/rocket.html", "/examples/rocket-postgres.html", "/examples/rocket-static-files.html", "/examples/rocket-jwt-authentication.html"]},"examples/loco",{"group":"Serenity","pages":["/examples/serenity.html", "/examples/serenity-todo.html", "/examples/poise.html"]},"examples/other","examples/examples-repo-link"]}]},{"tab":"Templates and Tutorials","groups":[{"group":"Templates and Tutorials","pages":["/templates/overview.html"]},{"group":"Fullstack Templates","pages":["/templates/fullstack/saas-template.html"]},{"group":"Tutorials","pages":["/templates/tutorials/rest-http-service-with-axum.html", "/templates/tutorials/discord-weather-forecast.html", "/templates/tutorials/databases-with-rust.html", "/templates/tutorials/serverless-calendar-app.html", "/templates/tutorials/url-shortener.html", "/templates/tutorials/authentication.html", "/templates/tutorials/send-your-logs-to-datadog.html", "/templates/tutorials/websocket-chat-app-js.html", "/templates/tutorials/custom-service.html"]}]},{"tab":"Blog","href":"https://docs.cyndra.dev/blog/tags/all"}]},"footer":{"socials":{"twitter":"https://twitter.com/cyndra_dev","discord":"https://discord.com/invite/cyndra","github":"https://github.com/cyndra-hq/cyndra"}},"redirects":[{"source":"/introduction/platform-update","destination":"/platform-update/platform-update"},{"source":"/install-script","destination":"/getting-started/installation#install-script-recommended"}],"integrations":{"intercom":{"appId":"rwqmvfqn"},"posthog":{"apiKey":"phc_cQMQqF5QmcEzXEaVlrhv3yBSNRyaabXYAyiCV7xKHUH","apiHost":"https://eu.posthog.com"}}},"pageMetadata":{"title":"Chat app with React \u0026 Rust","description":"Learn how to write a Rust chat application with React on the frontend.","href":"/templates/tutorials/websocket-chat-app-js"}}},"mdxExtracts":{"tableOfContents":[{"title":"Initial setup","slug":"initial-setup","depth":3,"children":[]},{"title":"Getting Started","slug":"getting-started","depth":3,"children":[]},{"title":"Setting up Rust","slug":"setting-up-rust","depth":3,"children":[]},{"title":"Getting Started (with Rust)","slug":"getting-started-with-rust","depth":3,"children":[]},{"title":"Admin Routing","slug":"admin-routing","depth":3,"children":[]},{"title":"Integrating Front \u0026 Back Endpoints","slug":"integrating-front-%26-back-endpoints","depth":3,"children":[]},{"title":"Finishing Up","slug":"finishing-up","depth":3,"children":[]}],"codeExamples":{}},"description":{"compiledSource":"\"use strict\";\nconst {jsx: _jsx} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = {\n    p: \"p\",\n    ..._provideComponents(),\n    ...props.components\n  };\n  return _jsx(_components.p, {\n    children: \"Learn how to write a Rust chat application with React on the frontend.\"\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"pageData":{"navWithMetadata":[{"group":"Introduction","pages":["title", "Start Building Backends Fast", "description", "Begin your Cyndra journey with our comprehensive documentation. Learn how Cyndra simplifies Rust cloud development through easy-to-follow guides.", "icon", "hand-wave", "href", "/introduction/docs", "title", "What is Cyndra?", "description", "Cyndra is a Rust-native cloud development platform that lets you deploy your app while also taking care of all of your infrastructure.", "icon", "question", "href", "/introduction/what-is-cyndra", "title", "How Cyndra works", "description", "Learn about how Cyndra works.", "icon", "puzzle-piece", "href", "/introduction/how-cyndra-works", "group", "Migrating to Cyndra", "icon", "dove", "pages", "title", "How to migrate to Cyndra", "description", "Four simple steps to migrate to Cyndra", "href", "/migrations/introduction", "title", "Will my project run on Cyndra?", "description", "How to know if your project will migrate to Cyndra", "href", "/migrations/migrating-checklist", "title", "Migration quickstart example", "description", "Short guide on how to migrate your existing project over to Cyndra", "href", "/migrations/migrating-to-cyndra", "group", "Frameworks", "pages", "title", "Axum", "description", "How to migrate a web service that uses Axum to Cyndra", "href", "/migrations/frameworks/axum", "title", "Actix Web", "description", "How to migrate a web service that uses Actix Web to Cyndra", "href", "/migrations/frameworks/actix-web", "title", "Rocket", "description", "How to migrate a web service that uses Rocket to Cyndra", "href", "/migrations/frameworks/rocket", "title", "Custom", "description", "How to migrate a service to Cyndra without a native integration", "href", "/migrations/frameworks/custom-service"]},{"group":"Infrastructure/Resources","pages":["title", "Postgres", "description", "How to migrate a web service that uses Postgres to Cyndra", "href", "/migrations/resources/postgres", "title", "Secrets", "og:title", "Migrating your secrets to Cyndra - Cyndra Docs", "description", "How to migrate a web service that uses environment variables or secrets to Cyndra", "href", "/migrations/resources/secrets"]}]}]},{"group":"Getting Started","pages":["title", "Installation", "description", "How to install the Cyndra Command Line Interface (CLI)", "icon", "download", "href", "//getting-started/installation.html", "title", "Quick Start", "description", "Fire upp your first project after installation ", "icon", "circle-play", "href", "//getting-started/quick-start.html"]},{"group":"Cyndra","pages":["title", "Projects", "description", "Everything about Cyndra projects", "icon", "cards-blank", "href", "//docs/projects.html", "title", "Project configuration", "description", "How to configure your Rust project for running on Cyndra", "icon", "gear", "href", "//docs/project-configuration.html", "title", "Local Run", "description", "Develop your Cyndra app locally", "icon", "screwdriver-wrench", "href", "//docs/local-run.html", "title", "Deployment files", "description", "How to add or ignore files in Cyndra deployments", "icon", "files", "href", "//docs/files.html", "title", "Builds", "description", "Details about the environment your app is built in", "icon", "hammer", "href", "//docs/builds.html", "title", "Deployment environment", "description", "Details about the environment your app runs in", "icon", "box", "href", "//docs/deployment-environment.html", "title", "Logs", "description", "Tracing or logging in Cyndra apps.", "icon", "list", "href", "//docs/logs.html", "title", "Domain names", "description", "Add custom domains to your project", "icon", "globe", "href", "//docs/domain-names.html", "group", "Telemetry", "icon", "telescope", "pages", "title", "Telemetry overview", "icon", "telescope", "description", "How Cyndra Telemetry integrations work", "href", "//docs/telemetry/overview.html", "title", "Better Stack", "icon", "layer-group", "description", "How to set up Better Stack monitoring with Cyndra", "href", "//docs/telemetry/betterstack.html"]},{"title":"Account","description":"How Cyndra accounts work","icon":"user","href":"/docs/account"}]},{"group":"Resources","pages":["title", "Resources", "description", "Learn about the resources that are officially supported by Cyndra.", "icon", "boxes-stacked", "href", "//resources/resources.html", "title", "Secrets", "description", "Including secrets in your deployment", "icon", "user-secret", "href", "//resources/cyndra-secrets.html", "group", "Databases", "icon", "database", "pages", "title", "Cyndra Shared Databases", "description", "Learn about the Cyndra Shared Database resource.", "icon", "database", "href", "//resources/cyndra-shared-db.html"]}]},{"group":"Integrations","pages":["group", "Databases", "icon", "database", "pages", "title", "Turso", "description", "Learn about how to use Cyndra with Turso, a distributed SQLite cloud service.", "icon", "database", "href", "//integrations/cyndra-turso.html", "title", "Qdrant", "description", "Integrate vector search capabilities into your Rust projects with Cyndra Qdrant. Our documentation outlines the process, simplifying your journey.", "icon", "database", "href", "//integrations/cyndra-qdrant.html", "title", "Apache OpenDAL", "description", "Learn about Cyndra's OpenDAL resource annotation.", "icon", "database", "href", "//integrations/cyndra-opendal.html"]},{"title":"OpenAI","description":"Learn about Cyndra's OpenAI resource annotation.","icon":"microchip","href":"/integrations/cyndra-openai"},{"title":"Custom Resources","description":"This example shows how you can make a custom Cyndra resource annotation.","icon":"toolbox","href":"/integrations/custom-resources"},{"title":"GitHub Actions","description":"Streamline your Rust projects with Cyndra CI/CD","icon":"code-branch","href":"/integrations/ci-cd"}]},{"group":"Guides","pages":["title", "CLI", "description", "Overview of the Cyndra commands", "icon", "code", "href", "//guides/cli.html", "title", "Upgrade Cyndra version", "description", "How to upgrade to newer Cyndra versions", "icon", "code-merge", "href", "//guides/upgrade.html", "title", "Migrate Postgres Data", "description", "Migrate Postgres data to cyndra.dev", "icon", "dove", "href", "//guides/migrate-shared-postgres.html", "group", "Platform Update", "icon", "layer-group", "pages", "title", "Overview \u0026 Changelog", "description", "In Q4 2024, Cyndra launched a new and improved platform", "href", "//platform-update/platform-update.html", "title", "Transfer to the new platform", "description", "How to transfer projects from cyndra.rs to cyndra.dev", "href", "//platform-update/migration.html"]}]},{"group":"Pricing","pages":["title", "Plans overview", "icon", "circle-dollar", "description", "href", "//pricing/overview.html", "title", "Usage \u0026 Billing", "icon", "money-check-dollar", "description", "href", "//pricing/billing.html", "title", "Scaling \u0026 Limits", "icon", "arrows-up-to-line", "description", "href", "//pricing/scaling.html", "title", "Upgrading", "icon", "circle-arrow-up", "description", "href", "//pricing/upgrading.html", "title", "FAQ", "description", "Frequently Asked Pricing Questions", "icon", "comment-dollar", "href", "//pricing/faq.html"]},{"group":"Support","pages":["title", "Support", "description", "How to reach the Cyndra team for support", "icon", "headset", "href", "//support/support.html", "title", "Frequently Asked Questions", "description", "Learn about the most frequently asked questions from Cyndra users.", "icon", "comment-question", "href", "//support/faq.html", "title", "Troubleshooting", "description", "Learn about how to solve common problems you might run into while using Cyndra.", "icon", "bug", "href", "//support/troubleshooting.html"]},{"group":"Community","pages":["title", "Get Involved", "description", "Learn how to get involved with Cyndra.", "icon", "hand-holding-hand", "href", "//community/get-involved.html", "title", "Contributing", "description", "Learn about the best way to get started with contributing to Cyndra.", "icon", "code-pull-request", "href", "//community/contribute.html", "title", "Open Source", "description", "Learn about how to get involved with the open source side of Cyndra.", "icon", "osi", "href", "//community/open-source.html"]},{"group":"Examples","pages":["title", "Overview", "og:title", "Cyndra Examples - Overview", "description", "href", "//examples/overview.html", "group", "Axum", "pages", "title", "Hello World", "og:title", "Hello World with Axum - Cyndra Docs", "description", "Axum is a web application framework that focuses on ergonomics and modularity.", "href", "//examples/axum.html", "title", "Postgres Todo App", "og:title", "Postgres Todo App with Axum - Cyndra Docs", "description", "This article walks you through how you can easily set up a simple to-do app using Axum and SQLx with PostgresQL.", "href", "//examples/axum-postgres.html", "title", "Static Files", "og:title", "Static Files with Axum - Cyndra Docs", "description", "This article walks you through setting up static files with Axum, a powerful Rust framework maintained by the Tokio-rs team.", "href", "//examples/axum-static-files.html", "title", "WebSockets", "description", "Learn how websockets can upgrade your web service by providing live update functionality, using Axum.", "href", "//examples/axum-websockets.html", "title", "JWT Authentication", "og:title", "JWT Authentication with Axum", "description", "Learn how you can secure your Axum web application by using JWT tokens.", "href", "//examples/axum-jwt-authentication.html"]},{"group":"Actix Web","pages":["title", "Hello World", "og:title", "Hello World with Actix Web - Cyndra Docs", "description", "Actix Web is a powerful, pragmatic, and extremely fast web framework for Rust.", "href", "//examples/actix.html", "title", "Postgres Todo App", "og:title", "Postgres Todo App with Actix Web - Cyndra Docs", "description", "This article walks you through how you can easily set up a simple to-do app using Actix Web and SQLx with PostgresQL.", "href", "//examples/actix-postgres.html", "title", "Static Files", "og:title", "Static Files with Actix Web - Cyndra Docs", "description", "This article walks you through setting up static files with Actix Web, a powerful Rust framework for battle-hardened web applications.", "href", "//examples/actix-static-files.html", "title", "Actix WebSocket Actorless", "description", "Learn how websockets can upgrade your web service by providing live update functionality, using Actix Web.", "href", "//examples/actix-websocket-actorless.html", "title", "Cookie Authentication", "og:title", "Cookie Authentication with Actix Web", "description", "Explore how you can secure your Actix Web application by using cookies.", "href", "//examples/actix-cookie-authentication.html"]},{"group":"Rocket","pages":["title", "Hello World", "og:title", "Hello World with Rocket - Cyndra Docs", "description", "Rocket is an async web framework for Rust with a focus on usability, security, extensibility, and speed.", "href", "//examples/rocket.html", "title", "Postgres Todo App", "og:title", "Postgres Todo App with Rocket - Cyndra Docs", "description", "This article walks you through how you can easily set up a simple to-do app using Rocket and SQLx with PostgresQL.", "href", "//examples/rocket-postgres.html", "title", "Static Files", "og:title", "Static Files with Rocket - Cyndra Docs", "description", "This article walks you through setting up static files with Rocket, an ergonomic framework for simple web applications.", "href", "//examples/rocket-static-files.html", "title", "JWT Authentication", "og:title", "JWT Authentication with Rocket - Cyndra Docs", "description", "Learn how you can secure your Rocket web application by using JWT tokens.", "href", "//examples/rocket-jwt-authentication.html"]},{"group":"Serenity","pages":["title", "Hello World Bot", "description", "Serenity is a Rust library for the Discord API.", "href", "//examples/serenity.html", "title", "Todo List Bot", "description", "Learn how to write a Serenity bot that can manage a to-do list.", "href", "//examples/serenity-todo.html", "title", "Poise", "description", "Poise is an opinionated Discord bot framework based on Serenity with good support for slash commands.", "href", "//examples/poise.html"]},{"title":"Other Examples","description":"This section contains examples for the following frameworks: Tower, Warp, Salvo, Poem, Thruster, and Tide.","icon":"github","href":"/examples/other"},{"title":"All Examples","url":"https://github.com/cyndra-hq/cyndra-examples#readme","icon":"github","noindex":true,"description":null,"href":"/examples/examples-repo-link"}]},{"group":"Templates and Tutorials","pages":["title", "Overview", "description", "Learn more about the official Cyndra templates.", "og:title", "Cyndra Templates - Overview", "href", "//templates/overview.html"]},{"group":"Fullstack Templates","pages":["title", "SaaS Starter Template", "description", "Learn how you can deploy a fully working SaaS template using Next.js \u0026 Rust.", "href", "//templates/fullstack/saas-template.html"]},{"group":"Tutorials","pages":["title", "Writing a Rest HTTP Service with Axum", "description", "Learn how to write a REST HTTP service with Axum.", "href", "//templates/tutorials/rest-http-service-with-axum.html", "title", "Discord Weather Forecast Bot", "description", "Learn how to write a Discord bot that can get the weather forecast.", "href", "//templates/tutorials/discord-weather-forecast.html", "title", "Working with Databases in Rust", "description", "Learn how to work with databases using Rust.", "href", "//templates/tutorials/databases-with-rust.html", "title", "Serverless Calendar App", "description", "Learn how to build a serverless calendar application with Matthias.", "href", "//templates/tutorials/serverless-calendar-app.html", "title", "URL Shortener", "description", "Learn how to write a URL shortener with Terrence.", "href", "//templates/tutorials/url-shortener.html", "title", "Authentication.html", "description", "Learn how to implement authentication using Rust.", "href", "//templates/tutorials/authentication.html", "title", "Using Cyndra with Datadog", "description", "Learn how to send your logs to Datadog with Roberto.", "href", "//templates/tutorials/send-your-logs-to-datadog.html", "title", "Chat app with React \u0026 Rust", "description", "Learn how to write a Rust chat application with React on the frontend.", "href", "//templates/tutorials/websocket-chat-app-js.html", "title", "Custom Service", "description", "This example will explain how to create a custom Cyndra service using Poise and Axum.", "href", "//templates/tutorials/custom-service.html"]}],"docsNavWithMetadata":{"global":{"anchors":[{"anchor":"GitHub","icon":"github","href":"https://github.com/cyndra-hq/cyndra"},{"anchor":"Community","icon":"discord","href":"https://discord.gg/cyndra"},{"anchor":"Releases and Changelog","icon":"rust","href":"https://github.com/cyndra-hq/cyndra/releases"}]},"tabs":[{"tab":"Documentation","groups":[{"group":"Getting Started","pages":["title", "Introduction to Cyndra", "description", "Cyndra is a Rust-native cloud development platform that lets you deploy your app while also taking care of all of your infrastructure.", "icon", "hand-wave", "href", "//welcome/introduction.html", "title", "Installation", "description", "How to install the Cyndra Command Line Interface (CLI)", "icon", "download", "href", "//getting-started/installation.html", "title", "Quick Start", "description", "Get started with your first Cyndra project and deploy it to the cloud ", "icon", "circle-play", "href", "//getting-started/quick-start.html", "title", "Migrate to Cyndra", "description", "A comprehensive guide to migrating your existing Rust project to Cyndra", "icon", "arrow-right", "href", "//migration/guide.html"]},{"group":"Cyndra","pages":["title", "Projects", "description", "Everything about Cyndra projects", "icon", "cards-blank", "href", "//docs/projects.html", "title", "Project configuration", "description", "How to configure your Rust project for running on Cyndra", "icon", "gear", "href", "//docs/project-configuration.html", "title", "Local Run", "description", "Develop your Cyndra app locally", "icon", "screwdriver-wrench", "href", "//docs/local-run.html", "title", "Deployment files", "description", "How to add or ignore files in Cyndra deployments", "icon", "files", "href", "//docs/files.html", "title", "Builds", "description", "Details about the environment your app is built in", "icon", "hammer", "href", "//docs/builds.html", "title", "Deployment environment", "description", "Details about the environment your app runs in", "icon", "box", "href", "//docs/deployment-environment.html", "title", "Logs", "description", "Tracing or logging in Cyndra apps.", "icon", "list", "href", "//docs/logs.html", "title", "Domain names", "description", "Add custom domains to your project", "icon", "globe", "href", "//docs/domain-names.html", "group", "Telemetry", "icon", "telescope", "pages", "title", "Overview", "icon", "chart-mixed", "description", "How Cyndra Telemetry integrations work", "href", "//docs/telemetry/overview.html", "title", "Getting Started", "icon", "rocket", "description", "Step-by-step guide to setting up telemetry in your Cyndra project", "href", "//docs/telemetry/getting-started.html", "title", "Better Stack Integration", "icon", "layer-group", "description", "How to set up Better Stack monitoring with Cyndra", "href", "//docs/telemetry/betterstack.html", "title", "Custom Metrics Guide", "icon", "chart-line", "description", "How to add custom metrics and tracing events to your Cyndra application", "href", "//docs/telemetry/custom-metrics.html"]},{"title":"Account","description":"How Cyndra accounts work","icon":"user","href":"/docs/account"},{"title":"Teams","description":"How Cyndra Teams work","icon":"users","href":"/docs/teams"}]},{"group":"Resources","pages":["title", "Resources", "description", "Learn about the resources that are officially supported by Cyndra.", "icon", "boxes-stacked", "href", "//resources/resources.html", "title", "Secrets", "description", "Including secrets in your deployment", "icon", "user-secret", "href", "//resources/cyndra-secrets.html", "group", "Databases", "icon", "database", "pages", "title", "Cyndra Shared Databases", "description", "Learn about the Cyndra Shared Database resource.", "icon", "database", "href", "//resources/cyndra-shared-db.html"]}]},{"group":"Integrations","pages":["group", "Databases", "icon", "database", "pages", "title", "Turso", "description", "Learn about how to use Cyndra with Turso, a distributed SQLite cloud service.", "icon", "database", "href", "//integrations/cyndra-turso.html", "title", "Qdrant", "description", "Integrate vector search capabilities into your Rust projects with Cyndra Qdrant. Our documentation outlines the process, simplifying your journey.", "icon", "database", "href", "//integrations/cyndra-qdrant.html", "title", "Apache OpenDAL", "description", "Learn about Cyndra's OpenDAL resource annotation.", "icon", "database", "href", "//integrations/cyndra-opendal.html"]},{"title":"OpenAI","description":"Learn about Cyndra's OpenAI resource annotation.","icon":"microchip","href":"/integrations/cyndra-openai"},{"title":"Custom Resources","description":"This example shows how you can make a custom Cyndra resource annotation.","icon":"toolbox","href":"/integrations/custom-resources"},{"title":"GitHub Actions","description":"Streamline your Rust projects with Cyndra CI/CD","icon":"code-branch","href":"/integrations/ci-cd"},{"title":"MCP server (Cursor)","description":"How to set up a Cyndra Docs MCP server for use in AI editors","icon":"sparkles","href":"/integrations/mcp-server"}]},{"group":"Guides","pages":["title", "CLI", "description", "Overview of the Cyndra commands", "icon", "code", "href", "//guides/cli.html", "title", "Upgrade Cyndra version", "description", "How to upgrade to newer Cyndra versions", "icon", "code-merge", "href", "//guides/upgrade.html", "title", "Migrate Postgres Data", "description", "Migrate Postgres data to cyndra.dev", "icon", "dove", "href", "//guides/migrate-shared-postgres.html", "group", "Platform Update", "icon", "layer-group", "pages", "title", "Overview \u0026 Changelog", "description", "In Q4 2024, Cyndra launched a new and improved platform", "href", "//platform-update/platform-update.html", "title", "Transfer to the new platform", "description", "How to transfer projects from cyndra.rs to cyndra.dev", "href", "//platform-update/migration.html"]}]},{"group":"Pricing","pages":["title", "Plans overview", "icon", "circle-dollar", "description", "href", "//pricing/overview.html", "title", "Usage \u0026 Billing", "icon", "money-check-dollar", "description", "href", "//pricing/billing.html", "title", "Scaling \u0026 Limits", "icon", "arrows-up-to-line", "description", "href", "//pricing/scaling.html", "title", "Upgrading", "icon", "circle-arrow-up", "description", "href", "//pricing/upgrading.html", "title", "FAQ", "description", "Frequently Asked Pricing Questions", "icon", "comment-dollar", "href", "//pricing/faq.html"]},{"group":"Support","pages":["title", "Support", "description", "How to reach the Cyndra team for support", "icon", "headset", "href", "//support/support.html", "title", "Frequently Asked Questions", "description", "Learn about the most frequently asked questions from Cyndra users.", "icon", "comment-question", "href", "//support/faq.html", "title", "Troubleshooting", "description", "Learn about how to solve common problems you might run into while using Cyndra.", "icon", "bug", "href", "//support/troubleshooting.html"]},{"group":"Community","pages":["title", "Get Involved", "description", "Learn how to get involved with Cyndra.", "icon", "hand-holding-hand", "href", "//community/get-involved.html", "title", "Contributing", "description", "Learn about the best way to get started with contributing to Cyndra.", "icon", "code-pull-request", "href", "//community/contribute.html", "title", "Open Source", "description", "Learn about how to get involved with the open source side of Cyndra.", "icon", "osi", "href", "//community/open-source.html"]}]},{"tab":"Examples","groups":[{"group":"Examples","pages":["title", "Overview", "og:title", "Cyndra Examples - Overview", "description", "href", "//examples/overview.html", "group", "Axum", "pages", "title", "Hello World", "og:title", "Hello World with Axum - Cyndra Docs", "description", "Axum is a web application framework that focuses on ergonomics and modularity.", "href", "//examples/axum.html", "title", "Postgres Todo App", "og:title", "Postgres Todo App with Axum - Cyndra Docs", "description", "This article walks you through how you can easily set up a simple to-do app using Axum and SQLx with PostgresQL.", "href", "//examples/axum-postgres.html", "title", "Static Files", "og:title", "Static Files with Axum - Cyndra Docs", "description", "This article walks you through setting up static files with Axum, a powerful Rust framework maintained by the Tokio-rs team.", "href", "//examples/axum-static-files.html", "title", "WebSockets", "description", "Learn how websockets can upgrade your web service by providing live update functionality, using Axum.", "href", "//examples/axum-websockets.html", "title", "JWT Authentication", "og:title", "JWT Authentication with Axum", "description", "Learn how you can secure your Axum web application by using JWT tokens.", "href", "//examples/axum-jwt-authentication.html"]},{"group":"Actix Web","pages":["title", "Hello World", "og:title", "Hello World with Actix Web - Cyndra Docs", "description", "Actix Web is a powerful, pragmatic, and extremely fast web framework for Rust.", "href", "//examples/actix.html", "title", "Postgres Todo App", "og:title", "Postgres Todo App with Actix Web - Cyndra Docs", "description", "This article walks you through how you can easily set up a simple to-do app using Actix Web and SQLx with PostgresQL.", "href", "//examples/actix-postgres.html", "title", "Static Files", "og:title", "Static Files with Actix Web - Cyndra Docs", "description", "This article walks you through setting up static files with Actix Web, a powerful Rust framework for battle-hardened web applications.", "href", "//examples/actix-static-files.html", "title", "Actix WebSocket Actorless", "description", "Learn how websockets can upgrade your web service by providing live update functionality, using Actix Web.", "href", "//examples/actix-websocket-actorless.html", "title", "Cookie Authentication", "og:title", "Cookie Authentication with Actix Web", "description", "Explore how you can secure your Actix Web application by using cookies.", "href", "//examples/actix-cookie-authentication.html"]},{"group":"Rocket","pages":["title", "Hello World", "og:title", "Hello World with Rocket - Cyndra Docs", "description", "Rocket is an async web framework for Rust with a focus on usability, security, extensibility, and speed.", "href", "//examples/rocket.html", "title", "Postgres Todo App", "og:title", "Postgres Todo App with Rocket - Cyndra Docs", "description", "This article walks you through how you can easily set up a simple to-do app using Rocket and SQLx with PostgresQL.", "href", "//examples/rocket-postgres.html", "title", "Static Files", "og:title", "Static Files with Rocket - Cyndra Docs", "description", "This article walks you through setting up static files with Rocket, an ergonomic framework for simple web applications.", "href", "//examples/rocket-static-files.html", "title", "JWT Authentication", "og:title", "JWT Authentication with Rocket - Cyndra Docs", "description", "Learn how you can secure your Rocket web application by using JWT tokens.", "href", "//examples/rocket-jwt-authentication.html"]},{"title":"Loco","description":"Loco is Ruby on Rails but for Rust, a web framework with everything included.","href":"/examples/loco"},{"group":"Serenity","pages":["title", "Hello World Bot", "description", "Serenity is a Rust library for the Discord API.", "href", "//examples/serenity.html", "title", "Todo List Bot", "description", "Learn how to write a Serenity bot that can manage a to-do list.", "href", "//examples/serenity-todo.html", "title", "Poise", "description", "Poise is an opinionated Discord bot framework based on Serenity with good support for slash commands.", "href", "//examples/poise.html"]},{"title":"Other Examples","description":"This section contains examples for the following frameworks: Rama, Tower, Warp, Salvo, Poem, Thruster, and Tide.","href":"/examples/other"},{"title":"All Examples","url":"https://github.com/cyndra-hq/cyndra-examples#readme","icon":"github","noindex":true,"description":null,"href":"/examples/examples-repo-link"}]}]},{"tab":"Templates and Tutorials","groups":[{"group":"Templates and Tutorials","pages":["title", "Overview", "description", "Learn more about the official Cyndra templates.", "og:title", "Cyndra Templates - Overview", "href", "//templates/overview.html"]},{"group":"Fullstack Templates","pages":["title", "SaaS Starter Template", "description", "Learn how you can deploy a fully working SaaS template using Next.js \u0026 Rust.", "href", "//templates/fullstack/saas-template.html"]},{"group":"Tutorials","pages":["title", "Writing a Rest HTTP Service with Axum", "description", "Learn how to write a REST HTTP service with Axum.", "href", "//templates/tutorials/rest-http-service-with-axum.html", "title", "Discord Weather Forecast Bot", "description", "Learn how to write a Discord bot that can get the weather forecast.", "href", "//templates/tutorials/discord-weather-forecast.html", "title", "Working with Databases in Rust", "description", "Learn how to work with databases using Rust.", "href", "//templates/tutorials/databases-with-rust.html", "title", "Serverless Calendar App", "description", "Learn how to build a serverless calendar application with Matthias.", "href", "//templates/tutorials/serverless-calendar-app.html", "title", "URL Shortener", "description", "Learn how to write a URL shortener with Terrence.", "href", "//templates/tutorials/url-shortener.html", "title", "Authentication.html", "description", "Learn how to implement authentication using Rust.", "href", "//templates/tutorials/authentication.html", "title", "Using Cyndra with Datadog", "description", "Learn how to send your logs to Datadog with Roberto.", "href", "//templates/tutorials/send-your-logs-to-datadog.html", "title", "Chat app with React \u0026 Rust", "description", "Learn how to write a Rust chat application with React on the frontend.", "href", "//templates/tutorials/websocket-chat-app-js.html", "title", "Custom Service", "description", "This example will explain how to create a custom Cyndra service using Poise and Axum.", "href", "//templates/tutorials/custom-service.html"]}]},{"tab":"Blog","href":"https://docs.cyndra.dev/blog/tags/all"}]},"pageMetadata":{"title":"Chat app with React \u0026 Rust","description":"Learn how to write a Rust chat application with React on the frontend.","href":"/templates/tutorials/websocket-chat-app-js"},"docsConfig":{"theme":"mint","$schema":"https://mintlify.com/docs.json","name":"Cyndra Docs","description":"The Cyndra platform documentation","colors":{"primary":"#000","light":"#f91","dark":"#f91"},"logo":{"light":"/images/logo.png","dark":"/images/logo.png","href":"https://docs.cyndra.dev/"},"favicon":"/favicon.png","background":{"decoration":"windows","color":{"light":"#fcf0d0","dark":"#0b0a00"}},"navbar":{"links":[{"label":"Support","href":"https://docs.cyndra.dev/support/support"}],"primary":{"type":"button","label":"Log In","href":"https://console.cyndra.dev/"}},"navigation":{"global":{"anchors":[{"anchor":"GitHub","icon":"github","href":"https://github.com/cyndra-hq/cyndra"},{"anchor":"Community","icon":"discord","href":"https://discord.gg/cyndra"},{"anchor":"Releases and Changelog","icon":"rust","href":"https://github.com/cyndra-hq/cyndra/releases"}]},"tabs":[{"tab":"Documentation","groups":[{"group":"Getting Started","pages":["/welcome/introduction.html", "/getting-started/installation.html", "/getting-started/quick-start.html", "/migration/guide.html"]},{"group":"Cyndra","pages":["/docs/projects.html", "/docs/project-configuration.html", "/docs/local-run.html", "/docs/files.html", "/docs/builds.html", "/docs/deployment-environment.html", "/docs/logs.html", "/docs/domain-names.html", "group", "Telemetry", "icon", "telescope", "pages", "/docs/telemetry/overview.html", "/docs/telemetry/getting-started.html", "/docs/telemetry/betterstack.html", "/docs/telemetry/custom-metrics.html"]},"docs/account","docs/teams"]},{"group":"Resources","pages":["/resources/resources.html", "/resources/cyndra-secrets.html", "group", "Databases", "icon", "database", "pages", "/resources/cyndra-shared-db.html"]}]},{"group":"Integrations","pages":["group", "Databases", "icon", "database", "pages", "/integrations/cyndra-turso.html", "/integrations/cyndra-qdrant.html", "/integrations/cyndra-opendal.html"]},"integrations/cyndra-openai","integrations/custom-resources","integrations/ci-cd","integrations/mcp-server"]},{"group":"Guides","pages":["/guides/cli.html", "/guides/upgrade.html", "/guides/migrate-shared-postgres.html", "group", "Platform Update", "icon", "layer-group", "pages", "/platform-update/platform-update.html", "/platform-update/migration.html"]}]},{"group":"Pricing","pages":["/pricing/overview.html", "/pricing/billing.html", "/pricing/scaling.html", "/pricing/upgrading.html", "/pricing/faq.html"]},{"group":"Support","pages":["/support/support.html", "/support/faq.html", "/support/troubleshooting.html"]},{"group":"Community","pages":["/community/get-involved.html", "/community/contribute.html", "/community/open-source.html"]}]},{"tab":"Examples","groups":[{"group":"Examples","pages":["/examples/overview.html", "group", "Axum", "pages", "/examples/axum.html", "/examples/axum-postgres.html", "/examples/axum-static-files.html", "/examples/axum-websockets.html", "/examples/axum-jwt-authentication.html"]},{"group":"Actix Web","pages":["/examples/actix.html", "/examples/actix-postgres.html", "/examples/actix-static-files.html", "/examples/actix-websocket-actorless.html", "/examples/actix-cookie-authentication.html"]},{"group":"Rocket","pages":["/examples/rocket.html", "/examples/rocket-postgres.html", "/examples/rocket-static-files.html", "/examples/rocket-jwt-authentication.html"]},"examples/loco",{"group":"Serenity","pages":["/examples/serenity.html", "/examples/serenity-todo.html", "/examples/poise.html"]},"examples/other","examples/examples-repo-link"]}]},{"tab":"Templates and Tutorials","groups":[{"group":"Templates and Tutorials","pages":["/templates/overview.html"]},{"group":"Fullstack Templates","pages":["/templates/fullstack/saas-template.html"]},{"group":"Tutorials","pages":["/templates/tutorials/rest-http-service-with-axum.html", "/templates/tutorials/discord-weather-forecast.html", "/templates/tutorials/databases-with-rust.html", "/templates/tutorials/serverless-calendar-app.html", "/templates/tutorials/url-shortener.html", "/templates/tutorials/authentication.html", "/templates/tutorials/send-your-logs-to-datadog.html", "/templates/tutorials/websocket-chat-app-js.html", "/templates/tutorials/custom-service.html"]}]},{"tab":"Blog","href":"https://docs.cyndra.dev/blog/tags/all"}]},"footer":{"socials":{"twitter":"https://twitter.com/cyndra_dev","discord":"https://discord.com/invite/cyndra","github":"https://github.com/cyndra-hq/cyndra"}},"redirects":[{"source":"/introduction/platform-update","destination":"/platform-update/platform-update"},{"source":"/install-script","destination":"/getting-started/installation#install-script-recommended"}],"integrations":{"intercom":{"appId":"rwqmvfqn"},"posthog":{"apiKey":"phc_cQMQqF5QmcEzXEaVlrhv3yBSNRyaabXYAyiCV7xKHUH","apiHost":"https://eu.posthog.com"}}},"apiReferenceData":{}},"feedback":{"thumbs":true,"edits":true,"issues":true},"favicons":{"icons":[{"rel":"apple-touch-icon","sizes":"180x180","href":"https://mintlify.s3-us-west-1.amazonaws.com/cyndra/_generated/favicon/apple-touch-icon.png?v=3","type":"image/png"},{"rel":"icon","sizes":"32x32","href":"https://docs.cyndra.dev/images/favicon.png","type":"image/png"},{"rel":"icon","sizes":"16x16","href":"https://docs.cyndra.dev/images/favicon.png","type":"image/png"},{"rel":"shortcut icon","href":"https://docs.cyndra.dev/images/favicon.png","type":"image/x-icon"}],"browserconfig":"https://mintlify.s3-us-west-1.amazonaws.com/cyndra/_generated/favicon/browserconfig.xml?v=3"},"subdomain":"docs.cyndra.dev","actualSubdomain":"cyndra","internalAnalyticsWriteKey":"phc_TXdpocbGVeZVm5VJmAsHTMrCofBQu3e0kN8HGMNGTVW","inkeep":{"integrationApiKey":"232312506c3ad9f5fdb1e14da11f0a8d0131d7d67ecb741b"},"trieve":{"datasetId":"f1f7bfe7-d1d5-4486-ad33-35ff4a710157"},"shouldIndex":true,"org":{"plan":"startup"},"cssFiles":[],"jsFiles":[],"mdxSourceWithNoJs":{"compiledSource":"\"use strict\";\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    code: \"code\",\n    img: \"img\",\n    p: \"p\",\n    pre: \"pre\",\n    span: \"span\",\n    strong: \"strong\",\n    ..._provideComponents(),\n    ...props.components\n  }, {CodeBlock, Heading} = _components;\n  if (!CodeBlock) _missingMdxReference(\"CodeBlock\", true);\n  if (!Heading) _missingMdxReference(\"Heading\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Source code can be found \", _jsx(_components.a, {\n        href: \"https://github.com/joshua-mo-143/react-websocket-chat-rust\",\n        children: \"here\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"With Rust going from strength to strength within the web development space, it is clear why many developers and big names are starting to take notice. As one example of this, Meta has recently \", _jsx(_components.a, {\n        href: \"https://engineering.fb.com/2022/07/27/developer-tools/programming-languages-endorsed-for-server-side-use-at-meta/#:~:text=Meta's%20primary%20supported%20server%2Dside,new%20addition%20to%20this%20list.\",\n        children: \"recommended Rust\"\n      }), \" as a server-side language. If that wont make people sit up and look, then its hard to know what will - Rusts current offering easily stands on par with most other languages that you could use in a back-end API or microservice, and it will only get better with time.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Lets explore Rust in everyday usage by creating a Typescript React app and combining it with a Rust API that uses WebSockets. While node.js is quick to set up, doesnt require context switching and is easy to use if you already have Javascript knowledge from learning it for writing front-end web apps, you dont need to have a high level of knowledge in Rust to get started writing competent web services that can easily carry out whatever you need.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://github.com/joshua-mo-143/react-websocket-chat-rust/raw/master/Screenshot.png\",\n        alt: \"screenshot\"\n      })\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"initial-setup\",\n      isAtRootLevel: \"true\",\n      children: \"Initial setup\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"We will be using Vite to scaffold our project, as its a quick and fast bundler for starting up your development environment quickly as well as being less opinionated than create-react-app. Lets get into it:\\n\", _jsx(_components.code, {\n        children: \"npm create vite@latest wschat-react-rust --template react-ts\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This should now scaffold a project within a subfolder of your current working directory called \", _jsx(_components.code, {\n        children: \"wschat-react-rust\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For our CSS, well be using TailwindCSS. Tailwind is a utility-first CSS library that allows you to be able to quickly and easily scaffold smaller projects without having to constantly fight media queries by providing utility classes with a mobile-first approach (as a side note: this isnt necessarily better or worse than regular CSS - this is just how I like to do it!). You can find out how to install it here. Its quick, easy, and very easy to configure.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Before we start, make sure you delete all of the HTML from the App menu (make sure you return an empty div!), make sure any unnecessary imports are removed and ensure that Tailwind is in your main CSS file.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Here are the contents of my CSS file if youd like to use my CSS styles exactly:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-css\",\n        children: _jsxs(_components.code, {\n          className: \"language-css\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: \"// index.css\"\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsxs(_components.span, {\n              className: \"token atrule\",\n              children: [_jsx(_components.span, {\n                className: \"token rule\",\n                children: \"@import\"\n              }), \" \", _jsxs(_components.span, {\n                className: \"token url\",\n                children: [_jsx(_components.span, {\n                  className: \"token function\",\n                  children: \"url\"\n                }), _jsx(_components.span, {\n                  className: \"token punctuation\",\n                  children: \"(\"\n                }), _jsx(_components.span, {\n                  className: \"token string url\",\n                  children: \"'https://fonts.googleapis.com/css2?family=Text+Me+One\u0026display=swap'\"\n                }), _jsx(_components.span, {\n                  className: \"token punctuation\",\n                  children: \")\"\n                })]\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              })]\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsxs(_components.span, {\n              className: \"token atrule\",\n              children: [_jsx(_components.span, {\n                className: \"token rule\",\n                children: \"@tailwind\"\n              }), \" base\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              })]\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsxs(_components.span, {\n              className: \"token atrule\",\n              children: [_jsx(_components.span, {\n                className: \"token rule\",\n                children: \"@tailwind\"\n              }), \" components\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              })]\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsxs(_components.span, {\n              className: \"token atrule\",\n              children: [_jsx(_components.span, {\n                className: \"token rule\",\n                children: \"@tailwind\"\n              }), \" utilities\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \";\"\n              })]\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsxs(_components.span, {\n              className: \"token atrule\",\n              children: [_jsx(_components.span, {\n                className: \"token rule\",\n                children: \"@layer\"\n              }), \" base\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsxs(_components.span, {\n              className: \"token selector\",\n              children: [\"input\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" button\"]\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"box-shadow\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"5\"\n            }), _jsx(_components.span, {\n              className: \"token unit\",\n              children: \"px\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"5\"\n            }), _jsx(_components.span, {\n              className: \"token unit\",\n              children: \"px\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token color\",\n              children: [_jsx(_components.span, {\n                className: \"token function\",\n                children: \"rgba\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0.5\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \")\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsxs(_components.span, {\n              className: \"token selector\",\n              children: [\"input\", _jsx(_components.span, {\n                className: \"token pseudo-class\",\n                children: \":active\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" button\", _jsx(_components.span, {\n                className: \"token pseudo-class\",\n                children: \":active\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"box-shadow\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"3\"\n            }), _jsx(_components.span, {\n              className: \"token unit\",\n              children: \"px\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"3\"\n            }), _jsx(_components.span, {\n              className: \"token unit\",\n              children: \"px\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token color\",\n              children: [_jsx(_components.span, {\n                className: \"token function\",\n                children: \"rgba\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"token number\",\n                children: \"0.5\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \")\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token selector\",\n              children: \"body\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"font-family\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'Text Me One'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'Sans Serif'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"padding\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"0\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"margin\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"0\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"background-color\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"rgb\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token number\",\n              children: \"214\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"211\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token number\",\n              children: \"209\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"box-sizing\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" box-border\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"overflow-x\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" hidden\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"getting-started\",\n      isAtRootLevel: \"true\",\n      children: \"Getting Started\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Before we do anything, lets quickly scaffold our page so that we have something that we can look at (well be putting this in the main App component but feel free to put this on a page component):\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// App.tsx\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"import\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token imports\",\n              children: [_jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"React\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"SetStateAction\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"from\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'react'\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"type \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Message\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"name\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" string\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"uid\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" number\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"message\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" string\"]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"function\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"App\"\n              })\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" setMessage\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"React\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"useState\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"string\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"name\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" setName\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"React\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"useState\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"string\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), \"vis\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" setVis\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"React\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"useState\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"boolean\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token boolean\",\n              children: \"true\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"return\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"      \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"flex flex-row text-gray-100\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'w-full bg-slate-700 flex flex-col pb-5'\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'w-full min-h-screen flex flex-col justify-end gap-4 pb-20'\"\n            }), \" id\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"chatbox\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"mx-8 break-all chat-message bg-slate-600 rounded-xl rounded-xl w-fit inline-block px-5 py-4\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"                \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"p\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Hi\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"!\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Welcome\"\n            }), \" to \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Rustcord\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token property-access\",\n              children: _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"Enjoy\"\n              })\n            }), \" your stay\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"!\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"p\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"              \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"form className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'w-full h-10 fixed bottom-0 flex flex-row justify-center gap-4 mb-5 px-5'\"\n            }), \" onSubmit\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token parameter\",\n              children: \"e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"sendMessage\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"e\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" name\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" setMessage\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"input name\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"message\\\"\"\n            }), \" id\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"messageBox\\\"\"\n            }), \" type\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"text\\\"\"\n            }), \" className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'bg-slate-400 w-full py-2 px-5 focus:outline-0 rounded-tl-xl rounded-bl-xl'\"\n            }), \" value\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"              placeholder\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Enter your message here...\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"              onInput\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token parameter\",\n              children: [_jsx(_components.span, {\n                className: \"token literal-property property\",\n                children: \"e\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"React\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token property-access\",\n                children: _jsx(_components.span, {\n                  className: \"token maybe-class-name\",\n                  children: \"ChangeEvent\"\n                })\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003c\"\n              }), _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"HTMLInputElement\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003e\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"setMessage\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"e\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"target\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"value\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"button id\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"messageBtn\\\"\"\n            }), \" className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'bg-slate-400 px-2 active:translate-y-0.5 active:translate-x-0.5 hover:text-black transition-all rounded-tr-xl rounded-br-xl'\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Send\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"button\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"form\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"      \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If youve already used Typescript, this component should be simple to understand. For the uninitiated however: the only changes that are there at the moment in comparison to a pure JavaScript project is that weve declared a new type (Message) which well be using later on, and weve also had to declare specific types for our state setters as well as \", _jsx(_components.code, {\n        children: \"e.target.value\"\n      }), \". This is important as TypeScript needs to know what type our events are, otherwise itll complain and refuse to compile.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Thats pretty much it for the main component! We need a modal that can get a name, and then we just need to set up WebSocket functionality. Lets create our modal:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// UserModal.tsx\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"import\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token imports\",\n              children: [_jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"React\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"SetStateAction\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"from\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'react'\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"type \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Props\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"vis\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" boolean\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"name\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" string\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"setName\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"React\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"Dispatch\"\n              })\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"SetStateAction\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"string\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token literal-property property\",\n              children: \"setVis\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"React\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"Dispatch\"\n              })\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"SetStateAction\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"boolean\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\u003e\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-variable function\",\n              children: _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"NamePrompt\"\n              })\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token parameter\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \"vis\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" name\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" setName\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" setVis\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"Props\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-variable function\",\n              children: \"submitName\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token parameter\",\n              children: [_jsx(_components.span, {\n                className: \"token literal-property property\",\n                children: \"e\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"React\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token property-access\",\n                children: _jsx(_components.span, {\n                  className: \"token maybe-class-name\",\n                  children: \"FormEvent\"\n                })\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003c\"\n              }), _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"HTMLFormElement\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003e\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    e\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"preventDefault\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"if\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"name \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"==\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"      \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"return\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"setVis\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token boolean\",\n              children: \"false\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword control-flow\",\n              children: \"return\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"vis \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"?\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'z-40 transition-all flex flex-col justify-center items-center h-screen w-screen absolute backdrop-blur-xl'\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"transition-all hidden flex flex-col justify-center items-center h-screen w-screen absolute backdrop-blur-xl\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"div className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'z-50 w-4/5 h-3/5 lg:w-2/5 lg:h-2/5 bg-slate-300 flex flex-col justify-center items-center rounded-xl shadow-md'\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"form className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'flex gap-4 flex-col items-center'\"\n            }), \" onSubmit\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token parameter\",\n              children: \"e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"submitName\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"e\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"          \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"p className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'text-lg lg:text-2xl'\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Hi\"\n            }), \" there\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"!\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"What\"\n            }), \"'s your name\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"?\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"p\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"input type\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"text\\\"\"\n            }), \" className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'px-5 py-2 rounded-xl required'\"\n            }), \" value\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"name\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" onInput\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token parameter\",\n              children: [_jsx(_components.span, {\n                className: \"token literal-property property\",\n                children: \"e\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \":\"\n              }), _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"React\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), _jsx(_components.span, {\n                className: \"token property-access\",\n                children: _jsx(_components.span, {\n                  className: \"token maybe-class-name\",\n                  children: \"ChangeEvent\"\n                })\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003c\"\n              }), _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"HTMLInputElement\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \"\u003e\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"setName\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"e\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"target\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"value\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), \"button type\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"submit\\\"\"\n            }), \" className\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'text-gray-100 bg-slate-500 px-5 py-2 rounded-xl active:translate-y-0.5 active:translate-x-0.5 hover:bg-slate-400 transition-all'\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"Submit\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"button\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"form\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), \"div\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"export\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword module\",\n              children: \"default\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"NamePrompt\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When we initially load up our webpage, we want this modal to appear before the user enters the chatroom as we need the user to set a name, which means we should make it so that the modal is initially visible, but once the user has confirmed a name (and is in the chat), we should hide the modal. Like before, the only real difference here in comparison to Javascript is weve declared types for our props as Typescript needs to know what to parse them as - otherwise, it wont compile.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now we can simply proceed to import the modal into our page component like so (dont forget to pass props and use React fragments if required!):\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// App.tsx\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token maybe-class-name\",\n              children: \"NamePrompt\"\n            }), \" vis\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"vis\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" name\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"name\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" setName\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"setName\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" setVis\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \"setVis\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"/\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that the main design of the app is done, lets think about how we can implement a WebSocket connection. To start with, we can open a WebSocket connection at a URL by simply writing the following:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// App.tsx\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" websocket \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"new\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"WebSocket\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"ws://localhost:8000/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This opens a WebSocket connection at \", _jsx(_components.code, {\n        children: \"localhost:8000/ws\"\n      }), \". Not particularly useful at the moment because we currently dont have anything we can connect it to, but well need this for testing later on.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that weve opened a WebSocket connection, we can add a method for when the connection opens, when it closes, and when we receive a message - like so:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// App.tsx\"\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// On connection open, write \\\"Connected\\\" to the console\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"websocket\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method-variable function-variable method function property-access\",\n              children: \"onopen\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"      \", _jsx(_components.span, {\n              className: \"token console class-name\",\n              children: \"console\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"log\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Connected\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// On connection close, write \\\"Disconnected\\\" to the console\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"websocket\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method-variable function-variable method function property-access\",\n              children: \"onclose\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token console class-name\",\n              children: \"console\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"log\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Disconnected\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// On receiving a message from the server, write the WebSocket message to the console\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"websocket\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method-variable function-variable method function property-access\",\n              children: \"onmessage\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token parameter\",\n              children: \"ev\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" message \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token known-class-name class-name\",\n              children: \"JSON\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"parse\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ev\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"data\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"create_message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Although weve told our program that we want to create a message entry when we receive a message, we dont have a \", _jsx(_components.code, {\n        children: \"create_message\"\n      }), \" function at the moment. This function will simply consist of creating a new HTML element, appending some classes and creating the text that will go inside the container div (and appending it to the container), and then appending our message itself to the chatbox as well as scrolling down to the bottom.\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-js\",\n        children: _jsxs(_components.code, {\n          className: \"language-js\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// App.tsx (put this outside of the component)\"\n            })\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// store the message classes as an array by simply splitting the string of classes by whitespace\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" message_classes \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"mx-8 break-all chat-message bg-slate-600 rounded-xl w-fit max-w-screen rounded-xl px-5 py-4\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"split\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\" \\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" username_css_classes \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"text-gray-200 text-sm\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"split\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\" \\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// create message div and append it to the chatbox\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-variable function\",\n              children: \"create_message\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token parameter\",\n              children: [_jsx(_components.span, {\n                className: \"token literal-property property\",\n                children: \"data\"\n              }), _jsx(_components.span, {\n                className: \"token operator\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token maybe-class-name\",\n                children: \"Message\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token arrow operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" messageContainer \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"document\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"createElement\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'div'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// add an array of classes using the spread operator here\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  messageContainer\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"classList\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"add\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token spread operator\",\n              children: \"...\"\n            }), \"message_classes\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" chatbox \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"document\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"querySelector\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'#chatbox'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" username \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"document\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"createElement\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'span'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  username\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"classList\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"add\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token spread operator\",\n              children: \"...\"\n            }), \"username_css_classes\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  username\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"innerText\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token template-string\",\n              children: [_jsx(_components.span, {\n                className: \"token template-punctuation string\",\n                children: \"`\"\n              }), _jsxs(_components.span, {\n                className: \"token interpolation\",\n                children: [_jsx(_components.span, {\n                  className: \"token interpolation-punctuation punctuation\",\n                  children: \"${\"\n                }), \"data\", _jsx(_components.span, {\n                  className: \"token punctuation\",\n                  children: \".\"\n                }), _jsx(_components.span, {\n                  className: \"token property-access\",\n                  children: \"name\"\n                }), _jsx(_components.span, {\n                  className: \"token interpolation-punctuation punctuation\",\n                  children: \"}\"\n                })]\n              }), _jsx(_components.span, {\n                className: \"token template-punctuation string\",\n                children: \"`\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  messageContainer\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"append\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"username\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" message \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"document\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"createElement\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'p'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"innerText\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token template-string\",\n              children: [_jsx(_components.span, {\n                className: \"token template-punctuation string\",\n                children: \"`\"\n              }), _jsxs(_components.span, {\n                className: \"token interpolation\",\n                children: [_jsx(_components.span, {\n                  className: \"token interpolation-punctuation punctuation\",\n                  children: \"${\"\n                }), \"data\", _jsx(_components.span, {\n                  className: \"token punctuation\",\n                  children: \".\"\n                }), _jsx(_components.span, {\n                  className: \"token property-access\",\n                  children: \"message\"\n                }), _jsx(_components.span, {\n                  className: \"token interpolation-punctuation punctuation\",\n                  children: \"}\"\n                })]\n              }), _jsx(_components.span, {\n                className: \"token template-punctuation string\",\n                children: \"`\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  messageContainer\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"append\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  chatbox\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"?.\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"append\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"messageContainer\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"window\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token method function property-access\",\n              children: \"scrollTo\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token number\",\n              children: \"0\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token dom variable\",\n              children: \"document\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"body\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token property-access\",\n              children: \"scrollHeight\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now our front end is pretty much done!\"\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"setting-up-rust\",\n      isAtRootLevel: \"true\",\n      children: \"Setting up Rust\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Getting started with Rust is very easy. You can install it on Linux or WSL (Windows Subsystems for Linux) by using the following command:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token function\",\n              children: \"curl\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token parameter variable\",\n              children: \"--proto\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'=https'\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token parameter variable\",\n              children: \"--tlsv1.2\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token parameter variable\",\n              children: \"-sSf\"\n            }), \" https://sh.rustup.rs \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"|\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"sh\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If youre on Windows and dont have WSL, you can find the install page for Rust \", _jsx(_components.a, {\n        href: \"https://www.rust-lang.org/learn/get-started\",\n        children: \"here\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"However you install it, youll also get Rusts package manager called Cargo, which is like NPM for Rust. Cargo allows you to install Rusts packages which are called crates.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For the back end part, because well be serving the web server through Cyndra, we will need to install their CLI which we can do with the following command:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token function\",\n              children: \"cargo\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"install\"\n            }), \" cargo-cyndra\"]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You can also use \", _jsx(_components.a, {\n        href: \"https://github.com/cargo-bins/cargo-binstall\",\n        children: _jsx(_components.code, {\n          children: \"cargo-binstall\"\n        })\n      }), \" to install cargo-cyndra:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token function\",\n              children: \"cargo\"\n            }), \" binstall cargo-cyndra\"]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The installation may take a while depending on your Internet connection, so feel free to grab a drink while you wait. You will also want to log onto their website here through GitHub and make sure you have your API key as you will need to log in on the CLI with your key before you can make any projects.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Once the installation is done, you can start a Cyndra project with the following command below (run this in your React project at the packages.json level):\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [\"cyndra init \", _jsx(_components.span, {\n              className: \"token parameter variable\",\n              children: \"--template\"\n            }), \" axum\"]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This will prompt you to input a project name - once youve inputted a project name, this will scaffold a project for you that uses Axum, which is a Rust web framework that is easy to build on with simple syntax. The project will be built in a folder within the current working directory with the name you chose. \", _jsx(_components.strong, {\n        children: \"For this article, we will simply refer to the folder as API for clarity.\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Once the project has been created, youll want to go into your \", _jsx(_components.code, {\n        children: \"Cargo.toml\"\n      }), \" and make sure it looks like the following:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-toml\",\n        children: _jsxs(_components.code, {\n          className: \"language-toml\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token table class-name\",\n              children: \"package\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"name\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"websocket-chat-react-rust\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"# The name here should be whatever you've decided to name your project\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.1.0\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"edition\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"2021\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"publish\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token boolean\",\n              children: \"false\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token table class-name\",\n              children: \"dependencies\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"axum\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"^0.6.2\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"axum-extra\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.4.2\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"spa\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"chrono\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.4\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"serde\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"futures\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.3\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"hyper\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.14\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"client\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"http2\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"hyper-tls\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.5\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"serde\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"1.0\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"derive\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"serde_json\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"1.0\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"cyndra-axum\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.55.0\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"cyndra-runtime\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.55.0\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"sync_wrapper\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.1\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"tokio\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"1\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"full\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token key property\",\n              children: \"tower-http\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"version\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"0.3.5\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token key property\",\n              children: \"features\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"fs\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"auth\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This will set up our project with all of the required dependencies for our project so we can simply just import them in as required.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"As it would be ideal for us to have our front and back end running at the same time, there is an npm package we can use called concurrently which we can install at the \", _jsx(_components.code, {\n        children: \"packages.json\"\n      }), \" level like so:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-bash\",\n        children: _jsxs(_components.code, {\n          className: \"language-bash\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token function\",\n              children: \"npm\"\n            }), \" i \", _jsx(_components.span, {\n              className: \"token parameter variable\",\n              children: \"-D\"\n            }), \" concurrently\"]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now we can write an npm script to run both our front and back ends in one command! Lets look at what that would look like:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-json\",\n        children: _jsxs(_components.code, {\n          className: \"language-json\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"\\\"scripts\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"\\\"dev\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"concurrently new \\\\\\\"vite\\\\\\\" \\\\\\\"cyndra run --working-directory API\\\\\\\"\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ... your other scripts\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Running this npm command while at the packages.json level simply starts up your React app and also launches your Rust project so you can work on both at the same time.\"\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"getting-started-with-rust\",\n      isAtRootLevel: \"true\",\n      children: \"Getting Started (with Rust)\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"To get started, lets create all the values we need for the server to work.\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"type\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token type-definition class-name\",\n              children: \"Users\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Arc\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"RwLock\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"HashMap\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"usize\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"UnboundedSender\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"static\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"NEXT_USERID\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"std\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"sync\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"atomic\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"AtomicUsize\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"std\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"sync\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"atomic\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"AtomicUsize\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[derive(Serialize, Deserialize)]\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"struct\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token type-definition class-name\",\n              children: \"Msg\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    name\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"String\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    uid\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Option\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"usize\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    message\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"String\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Lets quickly dissect what these types actually mean. If youd like to read more about what an arc is you can do so \", _jsx(_components.a, {\n        href: \"https://doc.rust-lang.org/std/sync/struct.Arc.html\",\n        children: \"here\"\n      }), \", but in short: its a \", _jsx(_components.a, {\n        href: \"https://doc.rust-lang.org/book/ch15-00-smart-pointers.html\",\n        children: \"smart pointer\"\n      }), \" that can be cloned and holds a value. In this case, were using it to hold a reader-writer lock (RwLock), which is typically used when you want the value inside to be read across multiple threads at the same time, but you want exclusive thread access for write operations (ie, cant mutate the value in any way from another thread). In short: its like having a box of stuff that lets you know whats inside when you look at it, but to change the contents you have to open the box itself (and only one person can open it at a time!).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"AtomicUsize is used for user IDs as we will want the value to be shared safely across threads. You can read more about Atomic values \", _jsx(_components.a, {\n        href: \"https://doc.rust-lang.org/std/sync/atomic/\",\n        children: \"here\"\n      }), \". We will also want our messages to be able to be serialized and deserialized from JSON - hence, the derive macro provided to us by the \", _jsx(_components.a, {\n        href: \"https://serde.rs/\",\n        children: \"serde\"\n      }), \" crate.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Lets quickly make up our main function so that we have a working route that we can test with our front end:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[cyndra_runtime::main]\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"axum\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"CyndraAxum\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// set up router with Secrets\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" router \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" static_folder\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"router\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"into\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"String\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" static_folder\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"PathBuf\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// initialise the Users k/v store and allow the static files to be served\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" users \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"default\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// return a new router with a WebSocket route\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"     \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ws_handler\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now at the moment we have our main application loop and a router, but as you may have noticed, \", _jsx(_components.code, {\n        children: \"ws_handler\"\n      }), \" doesnt actually exist in our code at the moment. This is what we will be writing next, and it can be simply written as so:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// \\\"impl IntoResponse\\\" means we want our function to return a websocket connection\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"ws_handler\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ws\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"WebSocketUpgrade\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"state\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"impl\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"IntoResponse\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    ws\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"on_upgrade\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsxs(_components.span, {\n              className: \"token closure-params\",\n              children: [_jsx(_components.span, {\n                className: \"token closure-punctuation punctuation\",\n                children: \"|\"\n              }), \"socket\", _jsx(_components.span, {\n                className: \"token closure-punctuation punctuation\",\n                children: \"|\"\n              })]\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"handle_socket\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"socket\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" state\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This function simply receives a connection, upgrades the connection into a WebSocket connection and initiates the socket handling to be able to receive and send messages.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now lets implement the \", _jsx(_components.code, {\n        children: \"handle_socket\"\n      }), \" function, as it currently doesnt actually exist:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"handle_socket\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"stream\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"WebSocket\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" state\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// When a new user enters the chat (opens the websocket connection), assign them a user ID\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" my_id \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token constant\",\n              children: \"NEXT_USERID\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"fetch_add\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token number\",\n              children: \"1\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"std\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"sync\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              }), \"atomic\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ordering\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Relaxed\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// By splitting the websocket into a receiver and sender, we can send and receive at the same time.\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"mut\"\n            }), \" sender\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"mut\"\n            }), \" receiver\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" stream\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"split\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// Create a new channel for async task management (stored in Users hashmap)\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"tx\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"mut\"\n            }), \" rx\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"UnboundedSender\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"UnboundedReceiver\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"mpsc\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"unbounded_channel\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// If a message has been received, send the message (expect on error)\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"tokio\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"spawn\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"move\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"while\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Some\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" rx\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"recv\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            sender\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"send\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"expect\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Error while sending message\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        sender\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"close\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"unwrap\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// if there's a message and the message is OK, broadcast it along all available open websocket connections\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"while\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Some\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" receiver\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"next\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token macro property\",\n              children: \"println!\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"{:?}\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"As you may have noticed in this function, we spawn a thread to await messages and send them back. Well need a method of safely transporting messages across the thread weve created, which is why an Arc with a reader-writer lock is used.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you use \", _jsx(_components.code, {\n        children: \"cyndra run\"\n      }), \" to locally run this project and send Hello to the WebSocket connection from a front-end web app, on your terminal with the Rust project deployment should return \", _jsx(_components.code, {\n        children: \"Some(\\\"Hello\\\")\"\n      }), \", which means weve successfully received a WebSocket message. Now we just need to figure out how were going to send it back!\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Lets create a function that will broadcast messages along every connected WebSocket:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"broadcast_msg\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// \\\"If let\\\" is basically a simple match statement, which is perfect for this use case\"\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// as we want to only match against one condition.\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"if\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Text\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" msg \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"for\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"_uid\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" tx\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"in\"\n            }), \" users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"read\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"iter\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            tx\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"send\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Text\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"clone\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"                \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"expect\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Failed to send Message\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This function will basically check that the message type matches and if it does, iterate through every single user connection and read it. Nothing too crazy here.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Lets have a look at enriching the results:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"enrich_result\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"usize\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Result\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"serde_json\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Error\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"match\"\n            }), \" result \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Text\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"mut\"\n            }), \" msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Msg\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"serde_json\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"from_str\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"?\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"uid \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Some\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" msg \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsxs(_components.span, {\n              className: \"token namespace\",\n              children: [\"serde_json\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"::\"\n              })]\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"to_string\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"?\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Message\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Text\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"msg\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        _ \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This function adds the user ID to the incoming message. If the result is not a WebSocket message, return whatever the result was.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now we will incorporate both of these methods into the respective section in our \", _jsx(_components.code, {\n        children: \"handle_socket\"\n      }), \" function, like so:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"while\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Some\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" receiver\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"next\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token macro property\",\n              children: \"println!\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"{:?}\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"if\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"enrich_result\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" my_id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"            \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"broadcast_msg\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"result\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"state\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now if you send a message from your front-end web app to your web server, you should receive a message in your React app from the server with the message, username and user ID! We are finally done building the bare bones of the app, but there are some other things before were finished that you will probably want to consider.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now while the app is now technically a minimum viable product, theres a couple of other things we need to sort out, like compiling React assets into our Rust project and making sure that we have a way to manually disconnect users if theyre being abusive or breaking the rules of the chat.\"\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"admin-routing\",\n      isAtRootLevel: \"true\",\n      children: \"Admin Routing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Before we get started however, lets quickly update our main function so that we can quickly pull in our environment variables and use static assets:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[cyndra_runtime::main]\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"axum\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[cyndra_runtime::Secrets]\"\n            }), \" secrets\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"SecretStore\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"CyndraAxum\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// We use Secrets.toml to set the BEARER key, just like in a .env file and call it here\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" secret \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" secrets\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"BEARER\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"unwrap_or\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Bear\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"to_string\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// set up router with Secrets\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" router \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"router\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"into\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Lets dissect our new additions quickly. \", _jsx(_components.code, {\n        children: \"cyndra_runtime::Secrets\"\n      }), \" allows us to set environmental variables using a Secrets.toml file, much like how youd typically use a .env file to be able to use environment variables locally and in production.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that our setup for this section is out of the way, lets cover the admin route first as thatll mean we can make sure our WebSocket service is complete before we compile any assets. Lets make a function that will take a user ID and manually disconnect them using the disconnect function we already have:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"disconnect_user\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Path\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"user_id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Path\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"usize\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003c\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u003e\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"impl\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"IntoResponse\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"disconnect\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"user_id\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"await\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Done\\\"\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now we can easily set up an admin router within the router function that will allow us to disconnect people manually, given a user ID and an authentication secret which you should write like so:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// write this somewhere in your router function\"\n            })\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// RequireAuthorizationLayer dictates we must send a Bearer auth token to authorise the kick/remove\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" admin \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/disconnect/:user_id\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"disconnect_user\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"RequireAuthorizationLayer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"bearer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that we have this route, we can actually embed it into our main router using the nest method. This method is actually great for us, as it means we can put together several different groups of similar routes and functions to create one router. Lets have a look at what this should look like on the router were returning:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [\"     \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ws_handler\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"nest\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/admin\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" admin\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"As you can see here, our admin route should actually be \", _jsx(_components.code, {\n        children: \"\u003cbase-url\u003e/ws/admin\"\n      }), \", as dictated by the nest function. Now if we want to disconnect a user with the user ID of 5 manually for example, we would have to make a post request to \", _jsx(_components.code, {\n        children: \"\u003cbase-url\u003e/ws/admin/disconnect/5\"\n      }), \" with a Bearer authentication header - as an example, if youve set your secret as keyboard cat, you need to enter an authentication header of \", _jsx(_components.code, {\n        children: \"Bearer keyboard cat\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"At this point, your router function should look like this (if not, you have likely missed a step somewhere):\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// initialise the Users k/v store and allow the static files to be served\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" users \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"default\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// make an admin route for kicking users\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" admin \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/disconnect/:user_id\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"disconnect_user\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"RequireAuthorizationLayer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"bearer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// return a new router and nest the admin route into the websocket route\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"     \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ws_handler\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"nest\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/admin\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" admin\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"fallback_service\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"ServeDir\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"assets\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"not_found_service\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"ServeFile\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"assets/index.html\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"integrating-front-%26-back-endpoints\",\n      isAtRootLevel: \"true\",\n      children: \"Integrating Front \u0026 Back Endpoints\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now we can start integrating our front and back end together. Lets set up our npm deploy scripts so that we can build our assets into our Rust folder:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-json\",\n        children: _jsxs(_components.code, {\n          className: \"language-json\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token property\",\n              children: \"\\\"scripts\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\" \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ... your other package.json scripts\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token property\",\n              children: \"\\\"build\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"tsc \u0026\u0026 vite build --emptyOutDir\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ... your other package.json scripts\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Our build command basically tells npm that we want it to compile all of the Typescript files, and then build the compiled assets.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now in your \", _jsx(_components.code, {\n        children: \"vite.config.ts\"\n      }), \" file youll want to have your defineConfig look like so:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-ts\",\n        children: _jsxs(_components.code, {\n          className: \"language-ts\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"export\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"default\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"defineConfig\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  base\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"''\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  plugins\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"[\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"react\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"]\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  build\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    outDir\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"'API/static'\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    emptyOutDir\", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token boolean\",\n              children: \"true\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This tells npm exactly where we want our compiled assets to be built and whether or not we should empty the target directory before building assets (outside of the regular directory, this is normally false by default so we need to set it to true).\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now if we run \", _jsx(_components.code, {\n        children: \"npm run build\"\n      }), \", it should build our assets in the API folder in a subdirectory called \", _jsx(_components.code, {\n        children: \"static\"\n      }), \". We can serve this directory to our users on the Rust project, which is great for us as it means we can simply use one deployment instead of having to manage two different deployments. \", _jsx(_components.code, {\n        children: \"cyndra_static_folder::StaticFolder\"\n      }), \" has a default value of static, so we dont need to set the folder name manually.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Before we move on, lets re-write the WebSocket URL so that it will dynamically match whatever the URL of our hosted project will be, instead of a fixed string. Lets change our WebSocket connection in the React front-end like so:\"\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-ts\",\n        children: _jsxs(_components.code, {\n          className: \"language-ts\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// Set up the websocket URL.\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" wsUri \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"window\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"location\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"protocol \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"==\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"https:\\\"\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\u0026\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"wss://\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"||\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"ws://\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  window\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"location\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"host \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"+\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"const\"\n            }), \" websocket \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"new\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"WebSocket\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"wsUri\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Now that weve changed the connection URL, our compiled assets in our Rust folder will work on the local Rust run without us having to use our local Vite deployment! However, if we try to run our front end by itself, it wont connect as this connection string relies on using the local Rust project - but you can change the connection string as required.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now we can update our main function and router together so that the router will use \", _jsx(_components.code, {\n        children: \"tower_http\"\n      }), \"s \", _jsx(_components.code, {\n        children: \"ServeDir\"\n      }), \" function for serving static files:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[cyndra_runtime::main]\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"async\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"axum\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token attribute attr-name\",\n              children: \"#[cyndra_runtime::Secrets]\"\n            }), \" secrets\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"SecretStore\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"CyndraAxum\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// We use Secrets.toml to set the BEARER key, just like in a .env file and call it here\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" secret \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" secrets\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"BEARER\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"unwrap_or\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"Bear\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"to_string\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// set up router with Secrets\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" router \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Ok\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"router\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"into\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [_jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"fn\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function-definition function\",\n              children: \"router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"String\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"-\u003e\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// initialise the Users k/v store and allow the static files to be served\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" users \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Users\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"default\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// make an admin route for kicking users\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token keyword\",\n              children: \"let\"\n            }), \" admin \", _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"=\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/disconnect/:user_id\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"disconnect_user\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"RequireAuthorizationLayer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"bearer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token operator\",\n              children: \"\u0026\"\n            }), \"secret\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \";\"\n            })]\n          }), \"\\n\", \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// return a new router and nest the admin route into the websocket route\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"     \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Router\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"route\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/ws\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token function\",\n              children: \"get\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"ws_handler\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"nest\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/admin\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" admin\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"fallback_service\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"/\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"ServeDir\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"assets\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"not_found_service\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"ServeFile\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"::\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"new\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"assets/index.html\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"        \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), _jsx(_components.span, {\n              className: \"token function\",\n              children: \"layer\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), _jsx(_components.span, {\n              className: \"token class-name\",\n              children: \"Extension\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"(\"\n            }), \"users\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \")\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            className: \"\",\n            children: _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(Heading, {\n      level: \"3\",\n      id: \"finishing-up\",\n      isAtRootLevel: \"true\",\n      children: \"Finishing Up\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now were pretty much done and ready to deploy! We can call our deploy script at the \", _jsx(_components.code, {\n        children: \"packages.json\"\n      }), \" level by setting up an npm script like below:\"]\n    }), \"\\n\", _jsx(CodeBlock, {\n      filename: \"\",\n      expandable: \"false\",\n      children: _jsx(_components.pre, {\n        className: \"language-rust\",\n        children: _jsxs(_components.code, {\n          className: \"language-rust\",\n          children: [_jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"scripts\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"{\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ...your other scripts\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"dev\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"concurrently new \\\\\\\"vite\\\\\\\" \\\\\\\"cyndra run --working-directory ./API\\\\\\\"\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"build\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"tsc \u0026\u0026 vite build --emptyOutDir\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \",\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"    \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"deploy\\\"\"\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \":\"\n            }), \" \", _jsx(_components.span, {\n              className: \"token string\",\n              children: \"\\\"npm run build \u0026\u0026 cyndra deploy --working-directory ./API\\\"\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token comment\",\n              children: \"// ...your other scripts\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            className: \"\",\n            children: [\"  \", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"}\"\n            })]\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Now if we run \", _jsx(_components.code, {\n        children: \"npm run deploy\"\n      }), \", it should build all of our assets into the required folder and then attempt to deploy to Cyndra - assuming there are no issues, it should deploy successfully!\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you would like to change the name of your folder while keeping the deployment name the same, you can do so by simply creating a file called \", _jsx(_components.code, {\n        children: \"Cyndra.toml\"\n      }), \" at the \", _jsx(_components.code, {\n        children: \"Cargo.toml\"\n      }), \" level and creating a variable for the \", _jsx(_components.code, {\n        children: \"name\"\n      }), \" key like in a .env file (so for example if I wanted to call my project \", _jsx(_components.code, {\n        children: \"keyboard-cat\"\n      }), \", Id type name=keyboard-cat into the file).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you need to check the status of your Cyndra project at any time, you can do so by using \", _jsx(_components.code, {\n        children: \"cyndra status\"\n      }), \" at the \", _jsx(_components.code, {\n        children: \"Cargo.toml\"\n      }), \" file, or you can add the \", _jsx(_components.code, {\n        children: \"--name\"\n      }), \" flag followed by the projects name to use it from any directory.\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{"config":{"theme":"mint","$schema":"https://mintlify.com/docs.json","name":"Cyndra Docs","description":"The Cyndra platform documentation","colors":{"primary":"#000","light":"#f91","dark":"#f91"},"logo":{"light":"/images/logo.png","dark":"/images/logo.png","href":"https://docs.cyndra.dev/"},"favicon":"/favicon.png","background":{"decoration":"windows","color":{"light":"#fcf0d0","dark":"#0b0a00"}},"navbar":{"links":[{"label":"Support","href":"https://docs.cyndra.dev/support/support"}],"primary":{"type":"button","label":"Log In","href":"https://console.cyndra.dev/"}},"navigation":{"global":{"anchors":[{"anchor":"GitHub","icon":"github","href":"https://github.com/cyndra-hq/cyndra"},{"anchor":"Community","icon":"discord","href":"https://discord.gg/cyndra"},{"anchor":"Releases and Changelog","icon":"rust","href":"https://github.com/cyndra-hq/cyndra/releases"}]},"tabs":[{"tab":"Documentation","groups":[{"group":"Getting Started","pages":["/welcome/introduction.html", "/getting-started/installation.html", "/getting-started/quick-start.html", "/migration/guide.html"]},{"group":"Cyndra","pages":["/docs/projects.html", "/docs/project-configuration.html", "/docs/local-run.html", "/docs/files.html", "/docs/builds.html", "/docs/deployment-environment.html", "/docs/logs.html", "/docs/domain-names.html", "group", "Telemetry", "icon", "telescope", "pages", "/docs/telemetry/overview.html", "/docs/telemetry/getting-started.html", "/docs/telemetry/betterstack.html", "/docs/telemetry/custom-metrics.html"]},"docs/account","docs/teams"]},{"group":"Resources","pages":["/resources/resources.html", "/resources/cyndra-secrets.html", "group", "Databases", "icon", "database", "pages", "/resources/cyndra-shared-db.html"]}]},{"group":"Integrations","pages":["group", "Databases", "icon", "database", "pages", "/integrations/cyndra-turso.html", "/integrations/cyndra-qdrant.html", "/integrations/cyndra-opendal.html"]},"integrations/cyndra-openai","integrations/custom-resources","integrations/ci-cd","integrations/mcp-server"]},{"group":"Guides","pages":["/guides/cli.html", "/guides/upgrade.html", "/guides/migrate-shared-postgres.html", "group", "Platform Update", "icon", "layer-group", "pages", "/platform-update/platform-update.html", "/platform-update/migration.html"]}]},{"group":"Pricing","pages":["/pricing/overview.html", "/pricing/billing.html", "/pricing/scaling.html", "/pricing/upgrading.html", "/pricing/faq.html"]},{"group":"Support","pages":["/support/support.html", "/support/faq.html", "/support/troubleshooting.html"]},{"group":"Community","pages":["/community/get-involved.html", "/community/contribute.html", "/community/open-source.html"]}]},{"tab":"Examples","groups":[{"group":"Examples","pages":["/examples/overview.html", "group", "Axum", "pages", "/examples/axum.html", "/examples/axum-postgres.html", "/examples/axum-static-files.html", "/examples/axum-websockets.html", "/examples/axum-jwt-authentication.html"]},{"group":"Actix Web","pages":["/examples/actix.html", "/examples/actix-postgres.html", "/examples/actix-static-files.html", "/examples/actix-websocket-actorless.html", "/examples/actix-cookie-authentication.html"]},{"group":"Rocket","pages":["/examples/rocket.html", "/examples/rocket-postgres.html", "/examples/rocket-static-files.html", "/examples/rocket-jwt-authentication.html"]},"examples/loco",{"group":"Serenity","pages":["/examples/serenity.html", "/examples/serenity-todo.html", "/examples/poise.html"]},"examples/other","examples/examples-repo-link"]}]},{"tab":"Templates and Tutorials","groups":[{"group":"Templates and Tutorials","pages":["/templates/overview.html"]},{"group":"Fullstack Templates","pages":["/templates/fullstack/saas-template.html"]},{"group":"Tutorials","pages":["/templates/tutorials/rest-http-service-with-axum.html", "/templates/tutorials/discord-weather-forecast.html", "/templates/tutorials/databases-with-rust.html", "/templates/tutorials/serverless-calendar-app.html", "/templates/tutorials/url-shortener.html", "/templates/tutorials/authentication.html", "/templates/tutorials/send-your-logs-to-datadog.html", "/templates/tutorials/websocket-chat-app-js.html", "/templates/tutorials/custom-service.html"]}]},{"tab":"Blog","href":"https://docs.cyndra.dev/blog/tags/all"}]},"footer":{"socials":{"twitter":"https://twitter.com/cyndra_dev","discord":"https://discord.com/invite/cyndra","github":"https://github.com/cyndra-hq/cyndra"}},"redirects":[{"source":"/introduction/platform-update","destination":"/platform-update/platform-update"},{"source":"/install-script","destination":"/getting-started/installation#install-script-recommended"}],"integrations":{"intercom":{"appId":"rwqmvfqn"},"posthog":{"apiKey":"phc_cQMQqF5QmcEzXEaVlrhv3yBSNRyaabXYAyiCV7xKHUH","apiHost":"https://eu.posthog.com"}}},"pageMetadata":{"title":"Chat app with React \u0026 Rust","description":"Learn how to write a Rust chat application with React on the frontend.","href":"/templates/tutorials/websocket-chat-app-js"}}},"entitlements":{"AI_CHAT":{"status":"ENABLED"}},"gitSource":{"type":"github","owner":"cyndra-hq","repo":"cyndra-docs","deployBranch":"main","contentDirectory":"","isPrivate":true},"banner":null,"buildId":"682d98d4366b773c9ec96cc5:success"},"__N_SSG":true},"page":"/_sites/[subdomain]/[[...slug]]","query":{"subdomain":"docs.cyndra.dev","slug":["templates","tutorials","websocket-chat-app-js"]},"buildId":"T_H5nbTtyqY6ZDQgEVxwA","assetPrefix":"/mintlify-assets","isFallback":false,"isExperimentalCompile":false,"gsp":true,"scriptLoader":[]}</script></html>